import{r as M,X as Ba,Y as ua,Z as fa,p as Ca,$ as wi,a0 as at,a1 as hA,a2 as Ia,a3 as Mt,a4 as xt,a5 as us,V as j,M as se,Q as ht,a6 as Ea,a7 as gA,a8 as ue,a9 as be,aa as N,A as Pt,C as Y,ab as Si,ac as Mi,ad as xi,I as Li,ae as ki,af as dA,ag as Jt,ah as Oi,h as Le,ai as Ui,aj as gt,ak as Hi,al as vi,am as Ni,l as _e,an as fs,ao as ot,ap as Pi,aq as Ji,ar as Ki,x as et,as as ji,c as BA,K as qi,i as Be,at as Yi,au as Cs,d as Vi,w as Xi,av as Wi,aw as zi,ax as Zi,ay as $i,G as tt,az as en,y as Is,aA as tn,b as An,B as sn,aB as nn,aC as uA,aD as an,aE as rt,aF as AA,aG as on,aH as rn,aI as Es,aJ as ps,g as he,u as dt,H as pa,aK as ma,aL as ba,t as Qa,f as _a,q as Fa,aM as Da,aN as ya,aO as cn,S as ct,aP as fe,aQ as Hs,aR as vs,aS as ln,aT as Dt,aU as yt,aV as Ze,aW as Ce,aX as $e,aY as Rt,aZ as Ta,a_ as Ra,a$ as Ga,b0 as wa,b1 as Sa,b2 as Ma,b3 as xa,b4 as La,b5 as ka,b6 as Oa,b7 as Ua,b8 as Ns}from"./index-BWg5LSEW.js";var ms=jt(),R=A=>Kt(A,ms),bs=jt();R.write=A=>Kt(A,bs);var fA=jt();R.onStart=A=>Kt(A,fA);var Qs=jt();R.onFrame=A=>Kt(A,Qs);var _s=jt();R.onFinish=A=>Kt(A,_s);var At=[];R.setTimeout=(A,e)=>{const t=R.now()+e,s=()=>{const n=At.findIndex(a=>a.cancel==s);~n&&At.splice(n,1),xe-=~n?1:0},i={time:t,handler:A,cancel:s};return At.splice(hn(t),0,i),xe+=1,gn(),i};var hn=A=>~(~At.findIndex(e=>e.time>A)||~At.length);R.cancel=A=>{fA.delete(A),Qs.delete(A),_s.delete(A),ms.delete(A),bs.delete(A)};R.sync=A=>{$A=!0,R.batchedUpdates(A),$A=!1};R.throttle=A=>{let e;function t(){try{A(...e)}finally{e=null}}function s(...i){e=i,R.onStart(t)}return s.handler=A,s.cancel=()=>{fA.delete(t),e=null},s};var Fs=typeof window<"u"?window.requestAnimationFrame:()=>{};R.use=A=>Fs=A;R.now=typeof performance<"u"?()=>performance.now():Date.now;R.batchedUpdates=A=>A();R.catch=console.error;R.frameLoop="always";R.advance=()=>{R.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Bn()};var Me=-1,xe=0,$A=!1;function Kt(A,e){$A?(e.delete(A),A(0)):(e.add(A),gn())}function gn(){Me<0&&(Me=0,R.frameLoop!=="demand"&&Fs(dn))}function Ha(){Me=-1}function dn(){~Me&&(Fs(dn),R.batchedUpdates(Bn))}function Bn(){const A=Me;Me=R.now();const e=hn(Me);if(e&&(un(At.splice(0,e),t=>t.handler()),xe-=e),!xe){Ha();return}fA.flush(),ms.flush(A?Math.min(64,Me-A):16.667),Qs.flush(),bs.flush(),_s.flush()}function jt(){let A=new Set,e=A;return{add(t){xe+=e==A&&!A.has(t)?1:0,A.add(t)},delete(t){return xe-=e==A&&A.has(t)?1:0,A.delete(t)},flush(t){e.size&&(A=new Set,xe-=e.size,un(e,s=>s(t)&&A.add(s)),xe+=A.size,e=A)}}}function un(A,e){A.forEach(t=>{try{e(t)}catch(s){R.catch(s)}})}var va=Object.defineProperty,Na=(A,e)=>{for(var t in e)va(A,t,{get:e[t],enumerable:!0})},re={};Na(re,{assign:()=>Ja,colors:()=>ke,createStringInterpolator:()=>ys,skipAnimation:()=>Cn,to:()=>fn,willAdvance:()=>Ts});function es(){}var Pa=(A,e,t)=>Object.defineProperty(A,e,{value:t,writable:!0,configurable:!0}),F={arr:Array.isArray,obj:A=>!!A&&A.constructor.name==="Object",fun:A=>typeof A=="function",str:A=>typeof A=="string",num:A=>typeof A=="number",und:A=>A===void 0};function Ee(A,e){if(F.arr(A)){if(!F.arr(e)||A.length!==e.length)return!1;for(let t=0;t<A.length;t++)if(A[t]!==e[t])return!1;return!0}return A===e}var O=(A,e)=>A.forEach(e);function Fe(A,e,t){if(F.arr(A)){for(let s=0;s<A.length;s++)e.call(t,A[s],`${s}`);return}for(const s in A)A.hasOwnProperty(s)&&e.call(t,A[s],s)}var Ae=A=>F.und(A)?[]:F.arr(A)?A:[A];function Gt(A,e){if(A.size){const t=Array.from(A);A.clear(),O(t,e)}}var Tt=(A,...e)=>Gt(A,t=>t(...e)),Ds=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ys,fn,ke=null,Cn=!1,Ts=es,Ja=A=>{A.to&&(fn=A.to),A.now&&(R.now=A.now),A.colors!==void 0&&(ke=A.colors),A.skipAnimation!=null&&(Cn=A.skipAnimation),A.createStringInterpolator&&(ys=A.createStringInterpolator),A.requestAnimationFrame&&R.use(A.requestAnimationFrame),A.batchedUpdates&&(R.batchedUpdates=A.batchedUpdates),A.willAdvance&&(Ts=A.willAdvance),A.frameLoop&&(R.frameLoop=A.frameLoop)},wt=new Set,ee=[],QA=[],sA=0,CA={get idle(){return!wt.size&&!ee.length},start(A){sA>A.priority?(wt.add(A),R.onStart(Ka)):(In(A),R(ts))},advance:ts,sort(A){if(sA)R.onFrame(()=>CA.sort(A));else{const e=ee.indexOf(A);~e&&(ee.splice(e,1),En(A))}},clear(){ee=[],wt.clear()}};function Ka(){wt.forEach(In),wt.clear(),R(ts)}function In(A){ee.includes(A)||En(A)}function En(A){ee.splice(ja(ee,e=>e.priority>A.priority),0,A)}function ts(A){const e=QA;for(let t=0;t<ee.length;t++){const s=ee[t];sA=s.priority,s.idle||(Ts(s),s.advance(A),s.idle||e.push(s))}return sA=0,QA=ee,QA.length=0,ee=e,ee.length>0}function ja(A,e){const t=A.findIndex(e);return t<0?A.length:t}var qa={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},oe="[-+]?\\d*\\.?\\d+",iA=oe+"%";function IA(...A){return"\\(\\s*("+A.join(")\\s*,\\s*(")+")\\s*\\)"}var Ya=new RegExp("rgb"+IA(oe,oe,oe)),Va=new RegExp("rgba"+IA(oe,oe,oe,oe)),Xa=new RegExp("hsl"+IA(oe,iA,iA)),Wa=new RegExp("hsla"+IA(oe,iA,iA,oe)),za=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Za=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$a=/^#([0-9a-fA-F]{6})$/,eo=/^#([0-9a-fA-F]{8})$/;function to(A){let e;return typeof A=="number"?A>>>0===A&&A>=0&&A<=4294967295?A:null:(e=$a.exec(A))?parseInt(e[1]+"ff",16)>>>0:ke&&ke[A]!==void 0?ke[A]:(e=Ya.exec(A))?(Ye(e[1])<<24|Ye(e[2])<<16|Ye(e[3])<<8|255)>>>0:(e=Va.exec(A))?(Ye(e[1])<<24|Ye(e[2])<<16|Ye(e[3])<<8|Ks(e[4]))>>>0:(e=za.exec(A))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=eo.exec(A))?parseInt(e[1],16)>>>0:(e=Za.exec(A))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Xa.exec(A))?(Ps(Js(e[1]),Vt(e[2]),Vt(e[3]))|255)>>>0:(e=Wa.exec(A))?(Ps(Js(e[1]),Vt(e[2]),Vt(e[3]))|Ks(e[4]))>>>0:null}function _A(A,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?A+(e-A)*6*t:t<1/2?e:t<2/3?A+(e-A)*(2/3-t)*6:A}function Ps(A,e,t){const s=t<.5?t*(1+e):t+e-t*e,i=2*t-s,n=_A(i,s,A+1/3),a=_A(i,s,A),r=_A(i,s,A-1/3);return Math.round(n*255)<<24|Math.round(a*255)<<16|Math.round(r*255)<<8}function Ye(A){const e=parseInt(A,10);return e<0?0:e>255?255:e}function Js(A){return(parseFloat(A)%360+360)%360/360}function Ks(A){const e=parseFloat(A);return e<0?0:e>1?255:Math.round(e*255)}function Vt(A){const e=parseFloat(A);return e<0?0:e>100?1:e/100}function js(A){let e=to(A);if(e===null)return A;e=e||0;const t=(e&4278190080)>>>24,s=(e&16711680)>>>16,i=(e&65280)>>>8,n=(e&255)/255;return`rgba(${t}, ${s}, ${i}, ${n})`}var Lt=(A,e,t)=>{if(F.fun(A))return A;if(F.arr(A))return Lt({range:A,output:e,extrapolate:t});if(F.str(A.output[0]))return ys(A);const s=A,i=s.output,n=s.range||[0,1],a=s.extrapolateLeft||s.extrapolate||"extend",r=s.extrapolateRight||s.extrapolate||"extend",o=s.easing||(c=>c);return c=>{const h=so(c,n);return Ao(c,n[h],n[h+1],i[h],i[h+1],o,a,r,s.map)}};function Ao(A,e,t,s,i,n,a,r,o){let c=o?o(A):A;if(c<e){if(a==="identity")return c;a==="clamp"&&(c=e)}if(c>t){if(r==="identity")return c;r==="clamp"&&(c=t)}return s===i?s:e===t?A<=e?s:i:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=n(c),s===-1/0?c=-c:i===1/0?c=c+s:c=c*(i-s)+s,c)}function so(A,e){for(var t=1;t<e.length-1&&!(e[t]>=A);++t);return t-1}var io={linear:A=>A},kt=Symbol.for("FluidValue.get"),lt=Symbol.for("FluidValue.observers"),de=A=>!!(A&&A[kt]),$=A=>A&&A[kt]?A[kt]():A,qs=A=>A[lt]||null;function no(A,e){A.eventObserved?A.eventObserved(e):A(e)}function nA(A,e){const t=A[lt];t&&t.forEach(s=>{no(s,e)})}var ao=class{constructor(A){if(!A&&!(A=this.get))throw Error("Unknown getter");oo(this,A)}},oo=(A,e)=>pn(A,kt,e);function qt(A,e){if(A[kt]){let t=A[lt];t||pn(A,lt,t=new Set),t.has(e)||(t.add(e),A.observerAdded&&A.observerAdded(t.size,e))}return e}function aA(A,e){const t=A[lt];if(t&&t.has(e)){const s=t.size-1;s?t.delete(e):A[lt]=null,A.observerRemoved&&A.observerRemoved(s,e)}}var pn=(A,e,t)=>Object.defineProperty(A,e,{value:t,writable:!0,configurable:!0}),tA=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ro=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ys=new RegExp(`(${tA.source})(%|[a-z]+)`,"i"),co=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,EA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,mn=A=>{const[e,t]=lo(A);if(!e||Ds())return A;const s=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(s)return s.trim();if(t&&t.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);return i||A}else{if(t&&EA.test(t))return mn(t);if(t)return t}return A},lo=A=>{const e=EA.exec(A);if(!e)return[,];const[,t,s]=e;return[t,s]},FA,ho=(A,e,t,s,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(s)}, ${i})`,bn=A=>{FA||(FA=ke?new RegExp(`(${Object.keys(ke).join("|")})(?!\\w)`,"g"):/^\b$/);const e=A.output.map(n=>$(n).replace(EA,mn).replace(ro,js).replace(FA,js)),t=e.map(n=>n.match(tA).map(Number)),i=t[0].map((n,a)=>t.map(r=>{if(!(a in r))throw Error('The arity of each "output" value must be equal');return r[a]})).map(n=>Lt({...A,output:n}));return n=>{var o;const a=!Ys.test(e[0])&&((o=e.find(c=>Ys.test(c)))==null?void 0:o.replace(tA,""));let r=0;return e[0].replace(tA,()=>`${i[r++](n)}${a||""}`).replace(co,ho)}},Rs="react-spring: ",Qn=A=>{const e=A;let t=!1;if(typeof e!="function")throw new TypeError(`${Rs}once requires a function parameter`);return(...s)=>{t||(e(...s),t=!0)}},go=Qn(console.warn);function Bo(){go(`${Rs}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var uo=Qn(console.warn);function fo(){uo(`${Rs}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function pA(A){return F.str(A)&&(A[0]=="#"||/\d/.test(A)||!Ds()&&EA.test(A)||A in(ke||{}))}var Gs=Ds()?M.useEffect:M.useLayoutEffect,Co=()=>{const A=M.useRef(!1);return Gs(()=>(A.current=!0,()=>{A.current=!1}),[]),A};function _n(){const A=M.useState()[1],e=Co();return()=>{e.current&&A(Math.random())}}function Io(A,e){const[t]=M.useState(()=>({inputs:e,result:A()})),s=M.useRef(),i=s.current;let n=i;return n?e&&n.inputs&&Eo(e,n.inputs)||(n={inputs:e,result:A()}):n=t,M.useEffect(()=>{s.current=n,i==t&&(t.inputs=t.result=void 0)},[n]),n.result}function Eo(A,e){if(A.length!==e.length)return!1;for(let t=0;t<A.length;t++)if(A[t]!==e[t])return!1;return!0}var Fn=A=>M.useEffect(A,po),po=[];function Vs(A){const e=M.useRef();return M.useEffect(()=>{e.current=A}),e.current}var Ot=Symbol.for("Animated:node"),mo=A=>!!A&&A[Ot]===A,ge=A=>A&&A[Ot],ws=(A,e)=>Pa(A,Ot,e),mA=A=>A&&A[Ot]&&A[Ot].getPayload(),Dn=class{constructor(){ws(this,this)}getPayload(){return this.payload||[]}},Yt=class extends Dn{constructor(A){super(),this._value=A,this.done=!0,this.durationProgress=0,F.num(this._value)&&(this.lastPosition=this._value)}static create(A){return new Yt(A)}getPayload(){return[this]}getValue(){return this._value}setValue(A,e){return F.num(A)&&(this.lastPosition=A,e&&(A=Math.round(A/e)*e,this.done&&(this.lastPosition=A))),this._value===A?!1:(this._value=A,!0)}reset(){const{done:A}=this;this.done=!1,F.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,A&&(this.lastVelocity=null),this.v0=null)}},Ut=class extends Yt{constructor(A){super(0),this._string=null,this._toString=Lt({output:[A,A]})}static create(A){return new Ut(A)}getValue(){const A=this._string;return A??(this._string=this._toString(this._value))}setValue(A){if(F.str(A)){if(A==this._string)return!1;this._string=A,this._value=1}else if(super.setValue(A))this._string=null;else return!1;return!0}reset(A){A&&(this._toString=Lt({output:[this.getValue(),A]})),this._value=0,super.reset()}},oA={dependencies:null},Ss=class extends Dn{constructor(A){super(),this.source=A,this.setValue(A)}getValue(A){const e={};return Fe(this.source,(t,s)=>{mo(t)?e[s]=t.getValue(A):de(t)?e[s]=$(t):A||(e[s]=t)}),e}setValue(A){this.source=A,this.payload=this._makePayload(A)}reset(){this.payload&&O(this.payload,A=>A.reset())}_makePayload(A){if(A){const e=new Set;return Fe(A,this._addToPayload,e),Array.from(e)}}_addToPayload(A){oA.dependencies&&de(A)&&oA.dependencies.add(A);const e=mA(A);e&&O(e,t=>this.add(t))}},yn=class extends Ss{constructor(A){super(A)}static create(A){return new yn(A)}getValue(){return this.source.map(A=>A.getValue())}setValue(A){const e=this.getPayload();return A.length==e.length?e.map((t,s)=>t.setValue(A[s])).some(Boolean):(super.setValue(A.map(bo)),!0)}};function bo(A){return(pA(A)?Ut:Yt).create(A)}function As(A){const e=ge(A);return e?e.constructor:F.arr(A)?yn:pA(A)?Ut:Yt}var Xs=(A,e)=>{const t=!F.fun(A)||A.prototype&&A.prototype.isReactComponent;return M.forwardRef((s,i)=>{const n=M.useRef(null),a=t&&M.useCallback(u=>{n.current=Fo(i,u)},[i]),[r,o]=_o(s,e),c=_n(),h=()=>{const u=n.current;if(t&&!u)return;(u?e.applyAnimatedValues(u,r.getValue(!0)):!1)===!1&&c()},l=new Qo(h,o),g=M.useRef();Gs(()=>(g.current=l,O(o,u=>qt(u,l)),()=>{g.current&&(O(g.current.deps,u=>aA(u,g.current)),R.cancel(g.current.update))})),M.useEffect(h,[]),Fn(()=>()=>{const u=g.current;O(u.deps,f=>aA(f,u))});const d=e.getComponentProps(r.getValue());return M.createElement(A,{...d,ref:a})})},Qo=class{constructor(A,e){this.update=A,this.deps=e}eventObserved(A){A.type=="change"&&R.write(this.update)}};function _o(A,e){const t=new Set;return oA.dependencies=t,A.style&&(A={...A,style:e.createAnimatedStyle(A.style)}),A=new Ss(A),oA.dependencies=null,[A,t]}function Fo(A,e){return A&&(F.fun(A)?A(e):A.current=e),e}var Ws=Symbol.for("AnimatedComponent"),Do=(A,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new Ss(i),getComponentProps:s=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:s},n=a=>{const r=zs(a)||"Anonymous";return F.str(a)?a=n[a]||(n[a]=Xs(a,i)):a=a[Ws]||(a[Ws]=Xs(a,i)),a.displayName=`Animated(${r})`,a};return Fe(A,(a,r)=>{F.arr(A)&&(r=zs(a)),n[r]=n(a)}),{animated:n}},zs=A=>F.str(A)?A:A&&F.str(A.displayName)?A.displayName:F.fun(A)&&A.name||null;function Ne(A,...e){return F.fun(A)?A(...e):A}var St=(A,e)=>A===!0||!!(e&&A&&(F.fun(A)?A(e):Ae(A).includes(e))),Tn=(A,e)=>F.obj(A)?e&&A[e]:A,Rn=(A,e)=>A.default===!0?A[e]:A.default?A.default[e]:void 0,yo=A=>A,Ms=(A,e=yo)=>{let t=To;A.default&&A.default!==!0&&(A=A.default,t=Object.keys(A));const s={};for(const i of t){const n=e(A[i],i);F.und(n)||(s[i]=n)}return s},To=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Ro={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Go(A){const e={};let t=0;if(Fe(A,(s,i)=>{Ro[i]||(e[i]=s,t++)}),t)return e}function Gn(A){const e=Go(A);if(e){const t={to:e};return Fe(A,(s,i)=>i in e||(t[i]=s)),t}return{...A}}function Ht(A){return A=$(A),F.arr(A)?A.map(Ht):pA(A)?re.createStringInterpolator({range:[0,1],output:[A,A]})(1):A}function wo(A){for(const e in A)return!0;return!1}function ss(A){return F.fun(A)||F.arr(A)&&F.obj(A[0])}function So(A,e){var t;(t=A.ref)==null||t.delete(A),e==null||e.delete(A)}function Mo(A,e){var t;e&&A.ref!==e&&((t=A.ref)==null||t.delete(A),e.add(A),A.ref=e)}var xo={default:{tension:170,friction:26}},is={...xo.default,mass:1,damping:1,easing:io.linear,clamp:!1},Lo=class{constructor(){this.velocity=0,Object.assign(this,is)}};function ko(A,e,t){t&&(t={...t},Zs(t,e),e={...t,...e}),Zs(A,e),Object.assign(A,e);for(const a in is)A[a]==null&&(A[a]=is[a]);let{frequency:s,damping:i}=A;const{mass:n}=A;return F.und(s)||(s<.01&&(s=.01),i<0&&(i=0),A.tension=Math.pow(2*Math.PI/s,2)*n,A.friction=4*Math.PI*i*n/s),A}function Zs(A,e){if(!F.und(e.decay))A.duration=void 0;else{const t=!F.und(e.tension)||!F.und(e.friction);(t||!F.und(e.frequency)||!F.und(e.damping)||!F.und(e.mass))&&(A.duration=void 0,A.decay=void 0),t&&(A.frequency=void 0)}}var $s=[],Oo=class{constructor(){this.changed=!1,this.values=$s,this.toValues=null,this.fromValues=$s,this.config=new Lo,this.immediate=!1}};function wn(A,{key:e,props:t,defaultProps:s,state:i,actions:n}){return new Promise((a,r)=>{let o,c,h=St(t.cancel??(s==null?void 0:s.cancel),e);if(h)d();else{F.und(t.pause)||(i.paused=St(t.pause,e));let u=s==null?void 0:s.pause;u!==!0&&(u=i.paused||St(u,e)),o=Ne(t.delay||0,e),u?(i.resumeQueue.add(g),n.pause()):(n.resume(),g())}function l(){i.resumeQueue.add(g),i.timeouts.delete(c),c.cancel(),o=c.time-R.now()}function g(){o>0&&!re.skipAnimation?(i.delayed=!0,c=R.setTimeout(d,o),i.pauseQueue.add(l),i.timeouts.add(c)):d()}function d(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(l),i.timeouts.delete(c),A<=(i.cancelId||0)&&(h=!0);try{n.start({...t,callId:A,cancel:h},a)}catch(u){r(u)}}})}var xs=(A,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?st(A.get()):e.every(t=>t.noop)?Sn(A.get()):ae(A.get(),e.every(t=>t.finished)),Sn=A=>({value:A,noop:!0,finished:!0,cancelled:!1}),ae=(A,e,t=!1)=>({value:A,finished:e,cancelled:t}),st=A=>({value:A,cancelled:!0,finished:!1});function Mn(A,e,t,s){const{callId:i,parentId:n,onRest:a}=e,{asyncTo:r,promise:o}=t;return!n&&A===r&&!e.reset?o:t.promise=(async()=>{t.asyncId=i,t.asyncTo=A;const c=Ms(e,(E,B)=>B==="onRest"?void 0:E);let h,l;const g=new Promise((E,B)=>(h=E,l=B)),d=E=>{const B=i<=(t.cancelId||0)&&st(s)||i!==t.asyncId&&ae(s,!1);if(B)throw E.result=B,l(E),E},u=(E,B)=>{const C=new ei,p=new ti;return(async()=>{if(re.skipAnimation)throw vt(t),p.result=ae(s,!1),l(p),p;d(C);const I=F.obj(E)?{...E}:{...B,to:E};I.parentId=i,Fe(c,(Q,_)=>{F.und(I[_])&&(I[_]=Q)});const m=await s.start(I);return d(C),t.paused&&await new Promise(Q=>{t.resumeQueue.add(Q)}),m})()};let f;if(re.skipAnimation)return vt(t),ae(s,!1);try{let E;F.arr(A)?E=(async B=>{for(const C of B)await u(C)})(A):E=Promise.resolve(A(u,s.stop.bind(s))),await Promise.all([E.then(h),g]),f=ae(s.get(),!0,!1)}catch(E){if(E instanceof ei)f=E.result;else if(E instanceof ti)f=E.result;else throw E}finally{i==t.asyncId&&(t.asyncId=n,t.asyncTo=n?r:void 0,t.promise=n?o:void 0)}return F.fun(a)&&R.batchedUpdates(()=>{a(f,s,s.item)}),f})()}function vt(A,e){Gt(A.timeouts,t=>t.cancel()),A.pauseQueue.clear(),A.resumeQueue.clear(),A.asyncId=A.asyncTo=A.promise=void 0,e&&(A.cancelId=e)}var ei=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},ti=class extends Error{constructor(){super("SkipAnimationSignal")}},ns=A=>A instanceof Ls,Uo=1,Ls=class extends ao{constructor(){super(...arguments),this.id=Uo++,this._priority=0}get priority(){return this._priority}set priority(A){this._priority!=A&&(this._priority=A,this._onPriorityChange(A))}get(){const A=ge(this);return A&&A.getValue()}to(...A){return re.to(this,A)}interpolate(...A){return Bo(),re.to(this,A)}toJSON(){return this.get()}observerAdded(A){A==1&&this._attach()}observerRemoved(A){A==0&&this._detach()}_attach(){}_detach(){}_onChange(A,e=!1){nA(this,{type:"change",parent:this,value:A,idle:e})}_onPriorityChange(A){this.idle||CA.sort(this),nA(this,{type:"priority",parent:this,priority:A})}},Je=Symbol.for("SpringPhase"),xn=1,as=2,os=4,DA=A=>(A[Je]&xn)>0,Re=A=>(A[Je]&as)>0,ut=A=>(A[Je]&os)>0,Ai=(A,e)=>e?A[Je]|=as|xn:A[Je]&=~as,si=(A,e)=>e?A[Je]|=os:A[Je]&=~os,Ho=class extends Ls{constructor(A,e){if(super(),this.animation=new Oo,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!F.und(A)||!F.und(e)){const t=F.obj(A)?{...A}:{...e,from:A};F.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(Re(this)||this._state.asyncTo)||ut(this)}get goal(){return $(this.animation.to)}get velocity(){const A=ge(this);return A instanceof Yt?A.lastVelocity||0:A.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return DA(this)}get isAnimating(){return Re(this)}get isPaused(){return ut(this)}get isDelayed(){return this._state.delayed}advance(A){let e=!0,t=!1;const s=this.animation;let{toValues:i}=s;const{config:n}=s,a=mA(s.to);!a&&de(s.to)&&(i=Ae($(s.to))),s.values.forEach((c,h)=>{if(c.done)return;const l=c.constructor==Ut?1:a?a[h].lastPosition:i[h];let g=s.immediate,d=l;if(!g){if(d=c.lastPosition,n.tension<=0){c.done=!0;return}let u=c.elapsedTime+=A;const f=s.fromValues[h],E=c.v0!=null?c.v0:c.v0=F.arr(n.velocity)?n.velocity[h]:n.velocity;let B;const C=n.precision||(f==l?.005:Math.min(1,Math.abs(l-f)*.001));if(F.und(n.duration))if(n.decay){const p=n.decay===!0?.998:n.decay,I=Math.exp(-(1-p)*u);d=f+E/(1-p)*(1-I),g=Math.abs(c.lastPosition-d)<=C,B=E*I}else{B=c.lastVelocity==null?E:c.lastVelocity;const p=n.restVelocity||C/10,I=n.clamp?0:n.bounce,m=!F.und(I),Q=f==l?c.v0>0:f<l;let _,y=!1;const D=1,L=Math.ceil(A/D);for(let U=0;U<L&&(_=Math.abs(B)>p,!(!_&&(g=Math.abs(l-d)<=C,g)));++U){m&&(y=d==l||d>l==Q,y&&(B=-B*I,d=l));const P=-n.tension*1e-6*(d-l),V=-n.friction*.001*B,ie=(P+V)/n.mass;B=B+ie*D,d=d+B*D}}else{let p=1;n.duration>0&&(this._memoizedDuration!==n.duration&&(this._memoizedDuration=n.duration,c.durationProgress>0&&(c.elapsedTime=n.duration*c.durationProgress,u=c.elapsedTime+=A)),p=(n.progress||0)+u/this._memoizedDuration,p=p>1?1:p<0?0:p,c.durationProgress=p),d=f+n.easing(p)*(l-f),B=(d-c.lastPosition)/A,g=p==1}c.lastVelocity=B,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),g=!0)}a&&!a[h].done&&(g=!1),g?c.done=!0:e=!1,c.setValue(d,n.round)&&(t=!0)});const r=ge(this),o=r.getValue();if(e){const c=$(s.to);(o!==c||t)&&!n.decay?(r.setValue(c),this._onChange(c)):t&&n.decay&&this._onChange(o),this._stop()}else t&&this._onChange(o)}set(A){return R.batchedUpdates(()=>{this._stop(),this._focus(A),this._set(A)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Re(this)){const{to:A,config:e}=this.animation;R.batchedUpdates(()=>{this._onStart(),e.decay||this._set(A,!1),this._stop()})}return this}update(A){return(this.queue||(this.queue=[])).push(A),this}start(A,e){let t;return F.und(A)?(t=this.queue||[],this.queue=[]):t=[F.obj(A)?A:{...e,to:A}],Promise.all(t.map(s=>this._update(s))).then(s=>xs(this,s))}stop(A){const{to:e}=this.animation;return this._focus(this.get()),vt(this._state,A&&this._lastCallId),R.batchedUpdates(()=>this._stop(e,A)),this}reset(){this._update({reset:!0})}eventObserved(A){A.type=="change"?this._start():A.type=="priority"&&(this.priority=A.priority+1)}_prepareNode(A){const e=this.key||"";let{to:t,from:s}=A;t=F.obj(t)?t[e]:t,(t==null||ss(t))&&(t=void 0),s=F.obj(s)?s[e]:s,s==null&&(s=void 0);const i={to:t,from:s};return DA(this)||(A.reverse&&([t,s]=[s,t]),s=$(s),F.und(s)?ge(this)||this._set(t):this._set(s)),i}_update({...A},e){const{key:t,defaultProps:s}=this;A.default&&Object.assign(s,Ms(A,(a,r)=>/^on/.test(r)?Tn(a,t):a)),ni(this,A,"onProps"),Ct(this,"onProps",A,this);const i=this._prepareNode(A);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const n=this._state;return wn(++this._lastCallId,{key:t,props:A,defaultProps:s,state:n,actions:{pause:()=>{ut(this)||(si(this,!0),Tt(n.pauseQueue),Ct(this,"onPause",ae(this,ft(this,this.animation.to)),this))},resume:()=>{ut(this)&&(si(this,!1),Re(this)&&this._resume(),Tt(n.resumeQueue),Ct(this,"onResume",ae(this,ft(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(A.loop&&a.finished&&!(e&&a.noop)){const r=Ln(A);if(r)return this._update(r,!0)}return a})}_merge(A,e,t){if(e.cancel)return this.stop(!0),t(st(this));const s=!F.und(A.to),i=!F.und(A.from);if(s||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(st(this));const{key:n,defaultProps:a,animation:r}=this,{to:o,from:c}=r;let{to:h=o,from:l=c}=A;i&&!s&&(!e.default||F.und(h))&&(h=l),e.reverse&&([h,l]=[l,h]);const g=!Ee(l,c);g&&(r.from=l),l=$(l);const d=!Ee(h,o);d&&this._focus(h);const u=ss(e.to),{config:f}=r,{decay:E,velocity:B}=f;(s||i)&&(f.velocity=0),e.config&&!u&&ko(f,Ne(e.config,n),e.config!==a.config?Ne(a.config,n):void 0);let C=ge(this);if(!C||F.und(h))return t(ae(this,!0));const p=F.und(e.reset)?i&&!e.default:!F.und(l)&&St(e.reset,n),I=p?l:this.get(),m=Ht(h),Q=F.num(m)||F.arr(m)||pA(m),_=!u&&(!Q||St(a.immediate||e.immediate,n));if(d){const U=As(h);if(U!==C.constructor)if(_)C=this._set(m);else throw Error(`Cannot animate between ${C.constructor.name} and ${U.name}, as the "to" prop suggests`)}const y=C.constructor;let D=de(h),L=!1;if(!D){const U=p||!DA(this)&&g;(d||U)&&(L=Ee(Ht(I),m),D=!L),(!Ee(r.immediate,_)&&!_||!Ee(f.decay,E)||!Ee(f.velocity,B))&&(D=!0)}if(L&&Re(this)&&(r.changed&&!p?D=!0:D||this._stop(o)),!u&&((D||de(o))&&(r.values=C.getPayload(),r.toValues=de(h)?null:y==Ut?[1]:Ae(m)),r.immediate!=_&&(r.immediate=_,!_&&!p&&this._set(o)),D)){const{onRest:U}=r;O(No,V=>ni(this,e,V));const P=ae(this,ft(this,o));Tt(this._pendingCalls,P),this._pendingCalls.add(t),r.changed&&R.batchedUpdates(()=>{var V;r.changed=!p,U==null||U(P,this),p?Ne(a.onRest,P):(V=r.onStart)==null||V.call(r,P,this)})}p&&this._set(I),u?t(Mn(e.to,e,this._state,this)):D?this._start():Re(this)&&!d?this._pendingCalls.add(t):t(Sn(I))}_focus(A){const e=this.animation;A!==e.to&&(qs(this)&&this._detach(),e.to=A,qs(this)&&this._attach())}_attach(){let A=0;const{to:e}=this.animation;de(e)&&(qt(e,this),ns(e)&&(A=e.priority+1)),this.priority=A}_detach(){const{to:A}=this.animation;de(A)&&aA(A,this)}_set(A,e=!0){const t=$(A);if(!F.und(t)){const s=ge(this);if(!s||!Ee(t,s.getValue())){const i=As(t);!s||s.constructor!=i?ws(this,i.create(t)):s.setValue(t),s&&R.batchedUpdates(()=>{this._onChange(t,e)})}}return ge(this)}_onStart(){const A=this.animation;A.changed||(A.changed=!0,Ct(this,"onStart",ae(this,ft(this,A.to)),this))}_onChange(A,e){e||(this._onStart(),Ne(this.animation.onChange,A,this)),Ne(this.defaultProps.onChange,A,this),super._onChange(A,e)}_start(){const A=this.animation;ge(this).reset($(A.to)),A.immediate||(A.fromValues=A.values.map(e=>e.lastPosition)),Re(this)||(Ai(this,!0),ut(this)||this._resume())}_resume(){re.skipAnimation?this.finish():CA.start(this)}_stop(A,e){if(Re(this)){Ai(this,!1);const t=this.animation;O(t.values,i=>{i.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),nA(this,{type:"idle",parent:this});const s=e?st(this.get()):ae(this.get(),ft(this,A??t.to));Tt(this._pendingCalls,s),t.changed&&(t.changed=!1,Ct(this,"onRest",s,this))}}};function ft(A,e){const t=Ht(e),s=Ht(A.get());return Ee(s,t)}function Ln(A,e=A.loop,t=A.to){const s=Ne(e);if(s){const i=s!==!0&&Gn(s),n=(i||A).reverse,a=!i||i.reset;return Nt({...A,loop:e,default:!1,pause:void 0,to:!n||ss(t)?t:void 0,from:a?A.from:void 0,reset:a,...i})}}function Nt(A){const{to:e,from:t}=A=Gn(A),s=new Set;return F.obj(e)&&ii(e,s),F.obj(t)&&ii(t,s),A.keys=s.size?Array.from(s):null,A}function vo(A){const e=Nt(A);return F.und(e.default)&&(e.default=Ms(e)),e}function ii(A,e){Fe(A,(t,s)=>t!=null&&e.add(s))}var No=["onStart","onRest","onChange","onPause","onResume"];function ni(A,e,t){A.animation[t]=e[t]!==Rn(e,t)?Tn(e[t],A.key):void 0}function Ct(A,e,...t){var s,i,n,a;(i=(s=A.animation)[e])==null||i.call(s,...t),(a=(n=A.defaultProps)[e])==null||a.call(n,...t)}var Po=["onStart","onChange","onRest"],Jo=1,Ko=class{constructor(A,e){this.id=Jo++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),A&&this.start({default:!0,...A})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(A=>A.idle&&!A.isDelayed&&!A.isPaused)}get item(){return this._item}set item(A){this._item=A}get(){const A={};return this.each((e,t)=>A[t]=e.get()),A}set(A){for(const e in A){const t=A[e];F.und(t)||this.springs[e].set(t)}}update(A){return A&&this.queue.push(Nt(A)),this}start(A){let{queue:e}=this;return A?e=Ae(A).map(Nt):this.queue=[],this._flush?this._flush(this,e):(vn(this,e),rs(this,e))}stop(A,e){if(A!==!!A&&(e=A),e){const t=this.springs;O(Ae(e),s=>t[s].stop(!!A))}else vt(this._state,this._lastAsyncId),this.each(t=>t.stop(!!A));return this}pause(A){if(F.und(A))this.start({pause:!0});else{const e=this.springs;O(Ae(A),t=>e[t].pause())}return this}resume(A){if(F.und(A))this.start({pause:!1});else{const e=this.springs;O(Ae(A),t=>e[t].resume())}return this}each(A){Fe(this.springs,A)}_onFrame(){const{onStart:A,onChange:e,onRest:t}=this._events,s=this._active.size>0,i=this._changed.size>0;(s&&!this._started||i&&!this._started)&&(this._started=!0,Gt(A,([r,o])=>{o.value=this.get(),r(o,this,this._item)}));const n=!s&&this._started,a=i||n&&t.size?this.get():null;i&&e.size&&Gt(e,([r,o])=>{o.value=a,r(o,this,this._item)}),n&&(this._started=!1,Gt(t,([r,o])=>{o.value=a,r(o,this,this._item)}))}eventObserved(A){if(A.type=="change")this._changed.add(A.parent),A.idle||this._active.add(A.parent);else if(A.type=="idle")this._active.delete(A.parent);else return;R.onFrame(this._onFrame)}};function rs(A,e){return Promise.all(e.map(t=>kn(A,t))).then(t=>xs(A,t))}async function kn(A,e,t){const{keys:s,to:i,from:n,loop:a,onRest:r,onResolve:o}=e,c=F.obj(e.default)&&e.default;a&&(e.loop=!1),i===!1&&(e.to=null),n===!1&&(e.from=null);const h=F.arr(i)||F.fun(i)?i:void 0;h?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):O(Po,f=>{const E=e[f];if(F.fun(E)){const B=A._events[f];e[f]=({finished:C,cancelled:p})=>{const I=B.get(E);I?(C||(I.finished=!1),p&&(I.cancelled=!0)):B.set(E,{value:null,finished:C||!1,cancelled:p||!1})},c&&(c[f]=e[f])}});const l=A._state;e.pause===!l.paused?(l.paused=e.pause,Tt(e.pause?l.pauseQueue:l.resumeQueue)):l.paused&&(e.pause=!0);const g=(s||Object.keys(A.springs)).map(f=>A.springs[f].start(e)),d=e.cancel===!0||Rn(e,"cancel")===!0;(h||d&&l.asyncId)&&g.push(wn(++A._lastAsyncId,{props:e,state:l,actions:{pause:es,resume:es,start(f,E){d?(vt(l,A._lastAsyncId),E(st(A))):(f.onRest=r,E(Mn(h,f,l,A)))}}})),l.paused&&await new Promise(f=>{l.resumeQueue.add(f)});const u=xs(A,await Promise.all(g));if(a&&u.finished&&!(t&&u.noop)){const f=Ln(e,a,i);if(f)return vn(A,[f]),kn(A,f,!0)}return o&&R.batchedUpdates(()=>o(u,A,A.item)),u}function ai(A,e){const t={...A.springs};return e&&O(Ae(e),s=>{F.und(s.keys)&&(s=Nt(s)),F.obj(s.to)||(s={...s,to:void 0}),Hn(t,s,i=>Un(i))}),On(A,t),t}function On(A,e){Fe(e,(t,s)=>{A.springs[s]||(A.springs[s]=t,qt(t,A))})}function Un(A,e){const t=new Ho;return t.key=A,e&&qt(t,e),t}function Hn(A,e,t){e.keys&&O(e.keys,s=>{(A[s]||(A[s]=t(s)))._prepareNode(e)})}function vn(A,e){O(e,t=>{Hn(A.springs,t,s=>Un(s,A))})}var bA=({children:A,...e})=>{const t=M.useContext(rA),s=e.pause||!!t.pause,i=e.immediate||!!t.immediate;e=Io(()=>({pause:s,immediate:i}),[s,i]);const{Provider:n}=rA;return M.createElement(n,{value:e},A)},rA=jo(bA,{});bA.Provider=rA.Provider;bA.Consumer=rA.Consumer;function jo(A,e){return Object.assign(A,M.createContext(e)),A.Provider._context=A,A.Consumer._context=A,A}var qo=()=>{const A=[],e=function(s){fo();const i=[];return O(A,(n,a)=>{if(F.und(s))i.push(n.start());else{const r=t(s,n,a);r&&i.push(n.start(r))}}),i};e.current=A,e.add=function(s){A.includes(s)||A.push(s)},e.delete=function(s){const i=A.indexOf(s);~i&&A.splice(i,1)},e.pause=function(){return O(A,s=>s.pause(...arguments)),this},e.resume=function(){return O(A,s=>s.resume(...arguments)),this},e.set=function(s){O(A,(i,n)=>{const a=F.fun(s)?s(n,i):s;a&&i.set(a)})},e.start=function(s){const i=[];return O(A,(n,a)=>{if(F.und(s))i.push(n.start());else{const r=this._getProps(s,n,a);r&&i.push(n.start(r))}}),i},e.stop=function(){return O(A,s=>s.stop(...arguments)),this},e.update=function(s){return O(A,(i,n)=>i.update(this._getProps(s,i,n))),this};const t=function(s,i,n){return F.fun(s)?s(n,i):s};return e._getProps=t,e};function Yo(A,e,t){const s=F.fun(e)&&e;s&&!t&&(t=[]);const i=M.useMemo(()=>s||arguments.length==3?qo():void 0,[]),n=M.useRef(0),a=_n(),r=M.useMemo(()=>({ctrls:[],queue:[],flush(B,C){const p=ai(B,C);return n.current>0&&!r.queue.length&&!Object.keys(p).some(m=>!B.springs[m])?rs(B,C):new Promise(m=>{On(B,p),r.queue.push(()=>{m(rs(B,C))}),a()})}}),[]),o=M.useRef([...r.ctrls]),c=[],h=Vs(A)||0;M.useMemo(()=>{O(o.current.slice(A,h),B=>{So(B,i),B.stop(!0)}),o.current.length=A,l(h,A)},[A]),M.useMemo(()=>{l(0,Math.min(h,A))},t);function l(B,C){for(let p=B;p<C;p++){const I=o.current[p]||(o.current[p]=new Ko(null,r.flush)),m=s?s(p,I):e[p];m&&(c[p]=vo(m))}}const g=o.current.map((B,C)=>ai(B,c[C])),d=M.useContext(bA),u=Vs(d),f=d!==u&&wo(d);Gs(()=>{n.current++,r.ctrls=o.current;const{queue:B}=r;B.length&&(r.queue=[],O(B,C=>C())),O(o.current,(C,p)=>{i==null||i.add(C),f&&C.start({default:d});const I=c[p];I&&(Mo(C,I.ref),C.ref?C.queue.push(I):C.start(I))})}),Fn(()=>()=>{O(r.ctrls,B=>B.stop(!0))});const E=g.map(B=>({...B}));return i?[E,i]:E}function Oc(A,e){const t=F.fun(A),[[s],i]=Yo(1,t?A:[A],t?[]:e);return t||arguments.length==2?[s,i]:s}var Vo=class extends Ls{constructor(A,e){super(),this.source=A,this.idle=!0,this._active=new Set,this.calc=Lt(...e);const t=this._get(),s=As(t);ws(this,s.create(t))}advance(A){const e=this._get(),t=this.get();Ee(e,t)||(ge(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&oi(this._active)&&yA(this)}_get(){const A=F.arr(this.source)?this.source.map($):Ae($(this.source));return this.calc(...A)}_start(){this.idle&&!oi(this._active)&&(this.idle=!1,O(mA(this),A=>{A.done=!1}),re.skipAnimation?(R.batchedUpdates(()=>this.advance()),yA(this)):CA.start(this))}_attach(){let A=1;O(Ae(this.source),e=>{de(e)&&qt(e,this),ns(e)&&(e.idle||this._active.add(e),A=Math.max(A,e.priority+1))}),this.priority=A,this._start()}_detach(){O(Ae(this.source),A=>{de(A)&&aA(A,this)}),this._active.clear(),yA(this)}eventObserved(A){A.type=="change"?A.idle?this.advance():(this._active.add(A.parent),this._start()):A.type=="idle"?this._active.delete(A.parent):A.type=="priority"&&(this.priority=Ae(this.source).reduce((e,t)=>Math.max(e,(ns(t)?t.priority:0)+1),0))}};function Xo(A){return A.idle!==!1}function oi(A){return!A.size||Array.from(A).every(Xo)}function yA(A){A.idle||(A.idle=!0,O(mA(A),e=>{e.done=!0}),nA(A,{type:"idle",parent:A}))}re.assign({createStringInterpolator:bn,to:(A,e)=>new Vo(A,e)});var Wo=["primitive"].concat(Object.keys(Ba).filter(A=>/^[A-Z]/.test(A)).map(A=>A[0].toLowerCase()+A.slice(1)));re.assign({createStringInterpolator:bn,colors:qa,frameLoop:"demand"});ua(()=>{R.advance()});var zo=Do(Wo,{applyAnimatedValues:fa}),Uc=zo.animated;const Zo=parseInt(Ca.replace(/\D+/g,""));function ri(A,e){if(e===wi)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),A;if(e===at||e===hA){let t=A.getIndex();if(t===null){const a=[],r=A.getAttribute("position");if(r!==void 0){for(let o=0;o<r.count;o++)a.push(o);A.setIndex(a),t=A.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),A}const s=t.count-2,i=[];if(t)if(e===at)for(let a=1;a<=s;a++)i.push(t.getX(0)),i.push(t.getX(a)),i.push(t.getX(a+1));else for(let a=0;a<s;a++)a%2===0?(i.push(t.getX(a)),i.push(t.getX(a+1)),i.push(t.getX(a+2))):(i.push(t.getX(a+2)),i.push(t.getX(a+1)),i.push(t.getX(a)));i.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const n=A.clone();return n.setIndex(i),n.clearGroups(),n}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),A}function Nn(A,e,t={}){const s=new j,i=new ht,n=new j,a=new se,r=new se,o=new se;t.preserveMatrix=t.preserveMatrix!==void 0?t.preserveMatrix:!0,t.preservePosition=t.preservePosition!==void 0?t.preservePosition:!0,t.preserveHipPosition=t.preserveHipPosition!==void 0?t.preserveHipPosition:!1,t.useTargetMatrix=t.useTargetMatrix!==void 0?t.useTargetMatrix:!1,t.hip=t.hip!==void 0?t.hip:"hip",t.names=t.names||{};const c=e.isObject3D?e.skeleton.bones:cA(e),h=A.isObject3D?A.skeleton.bones:cA(A);let l,g,d,u,f;if(A.isObject3D?A.skeleton.pose():(t.useTargetMatrix=!0,t.preserveMatrix=!1),t.preservePosition){f=[];for(let E=0;E<h.length;E++)f.push(h[E].position.clone())}if(t.preserveMatrix){A.updateMatrixWorld(),A.matrixWorld.identity();for(let E=0;E<A.children.length;++E)A.children[E].updateMatrixWorld(!0)}if(t.offsets){l=[];for(let E=0;E<h.length;++E)g=h[E],d=t.names[g.name]||g.name,t.offsets[d]&&(g.matrix.multiply(t.offsets[d]),g.matrix.decompose(g.position,g.quaternion,g.scale),g.updateMatrixWorld()),l.push(g.matrixWorld.clone())}for(let E=0;E<h.length;++E){if(g=h[E],d=t.names[g.name]||g.name,u=Pn(d,c),o.copy(g.matrixWorld),u){if(u.updateMatrixWorld(),t.useTargetMatrix?r.copy(u.matrixWorld):(r.copy(A.matrixWorld).invert(),r.multiply(u.matrixWorld)),n.setFromMatrixScale(r),r.scale(n.set(1/n.x,1/n.y,1/n.z)),o.makeRotationFromQuaternion(i.setFromRotationMatrix(r)),A.isObject3D){const B=h.indexOf(g),C=l?l[B]:a.copy(A.skeleton.boneInverses[B]).invert();o.multiply(C)}o.copyPosition(r)}g.parent&&g.parent.isBone?(g.matrix.copy(g.parent.matrixWorld).invert(),g.matrix.multiply(o)):g.matrix.copy(o),t.preserveHipPosition&&d===t.hip&&g.matrix.setPosition(s.set(0,g.position.y,0)),g.matrix.decompose(g.position,g.quaternion,g.scale),g.updateMatrixWorld()}if(t.preservePosition)for(let E=0;E<h.length;++E)g=h[E],d=t.names[g.name]||g.name,d!==t.hip&&g.position.copy(f[E]);t.preserveMatrix&&A.updateMatrixWorld(!0)}function $o(A,e,t,s={}){s.useFirstFramePosition=s.useFirstFramePosition!==void 0?s.useFirstFramePosition:!1,s.fps=s.fps!==void 0?s.fps:30,s.names=s.names||[],e.isObject3D||(e=tr(e));const i=Math.round(t.duration*(s.fps/1e3)*1e3),n=1/s.fps,a=[],r=new Ia(e),o=cA(A.skeleton),c=[];let h,l,g,d,u;r.clipAction(t).play(),r.update(0),e.updateMatrixWorld();for(let f=0;f<i;++f){const E=f*n;Nn(A,e,s);for(let B=0;B<o.length;++B)u=s.names[o[B].name]||o[B].name,g=Pn(u,e.skeleton),g&&(l=o[B],d=c[B]=c[B]||{bone:l},s.hip===u&&(d.pos||(d.pos={times:new Float32Array(i),values:new Float32Array(i*3)}),s.useFirstFramePosition&&(f===0&&(h=l.position.clone()),l.position.sub(h)),d.pos.times[f]=E,l.position.toArray(d.pos.values,f*3)),d.quat||(d.quat={times:new Float32Array(i),values:new Float32Array(i*4)}),d.quat.times[f]=E,l.quaternion.toArray(d.quat.values,f*4));r.update(n),e.updateMatrixWorld()}for(let f=0;f<c.length;++f)d=c[f],d&&(d.pos&&a.push(new Mt(".bones["+d.bone.name+"].position",d.pos.times,d.pos.values)),a.push(new xt(".bones["+d.bone.name+"].quaternion",d.quat.times,d.quat.values)));return r.uncacheAction(t),new us(t.name,-1,a)}function er(A){const e=new Map,t=new Map,s=A.clone();return Jn(A,s,function(i,n){e.set(n,i),t.set(i,n)}),s.traverse(function(i){if(!i.isSkinnedMesh)return;const n=i,a=e.get(i),r=a.skeleton.bones;n.skeleton=a.skeleton.clone(),n.bindMatrix.copy(a.bindMatrix),n.skeleton.bones=r.map(function(o){return t.get(o)}),n.bind(n.skeleton,n.bindMatrix)}),s}function Pn(A,e){for(let t=0,s=cA(e);t<s.length;t++)if(A===s[t].name)return s[t]}function cA(A){return Array.isArray(A)?A:A.bones}function tr(A){const e=new Ea(A.bones[0]);return e.skeleton=A,e}function Jn(A,e,t){t(A,e);for(let s=0;s<A.children.length;s++)Jn(A.children[s],e.children[s],t)}const Hc={retarget:Nn,retargetClip:$o,clone:er};function lA(A){if(typeof TextDecoder<"u")return new TextDecoder().decode(A);let e="";for(let t=0,s=A.length;t<s;t++)e+=String.fromCharCode(A[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Pe="srgb",Qe="srgb-linear",ci=3001,Ar=3e3;let ks=class extends gA{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new or(t)}),this.register(function(t){return new rr(t)}),this.register(function(t){return new Cr(t)}),this.register(function(t){return new Ir(t)}),this.register(function(t){return new Er(t)}),this.register(function(t){return new lr(t)}),this.register(function(t){return new hr(t)}),this.register(function(t){return new gr(t)}),this.register(function(t){return new dr(t)}),this.register(function(t){return new ar(t)}),this.register(function(t){return new Br(t)}),this.register(function(t){return new cr(t)}),this.register(function(t){return new fr(t)}),this.register(function(t){return new ur(t)}),this.register(function(t){return new ir(t)}),this.register(function(t){return new pr(t)}),this.register(function(t){return new mr(t)})}load(e,t,s,i){const n=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=ue.extractUrlBase(e);a=ue.resolveURL(c,this.path)}else a=ue.extractUrlBase(e);this.manager.itemStart(e);const r=function(c){i?i(c):console.error(c),n.manager.itemError(e),n.manager.itemEnd(e)},o=new be(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{n.parse(c,a,function(h){t(h),n.manager.itemEnd(e)},r)}catch(h){r(h)}},s,r)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,i){let n;const a={},r={};if(typeof e=="string")n=JSON.parse(e);else if(e instanceof ArrayBuffer)if(lA(new Uint8Array(e.slice(0,4)))===Kn){try{a[w.KHR_BINARY_GLTF]=new br(e)}catch(h){i&&i(h);return}n=JSON.parse(a[w.KHR_BINARY_GLTF].content)}else n=JSON.parse(lA(new Uint8Array(e)));else n=e;if(n.asset===void 0||n.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const o=new Lr(n,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});o.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](o);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),r[h.name]=h,a[h.name]=!0}if(n.extensionsUsed)for(let c=0;c<n.extensionsUsed.length;++c){const h=n.extensionsUsed[c],l=n.extensionsRequired||[];switch(h){case w.KHR_MATERIALS_UNLIT:a[h]=new nr;break;case w.KHR_DRACO_MESH_COMPRESSION:a[h]=new Qr(n,this.dracoLoader);break;case w.KHR_TEXTURE_TRANSFORM:a[h]=new _r;break;case w.KHR_MESH_QUANTIZATION:a[h]=new Fr;break;default:l.indexOf(h)>=0&&r[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}o.setExtensions(a),o.setPlugins(r),o.parse(s,i)}parseAsync(e,t){const s=this;return new Promise(function(i,n){s.parse(e,t,i,n)})}};function sr(){let A={};return{get:function(e){return A[e]},add:function(e,t){A[e]=t},remove:function(e){delete A[e]},removeAll:function(){A={}}}}const w={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};let ir=class{constructor(e){this.parser=e,this.name=w.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,i=t.length;s<i;s++){const n=t[s];n.extensions&&n.extensions[this.name]&&n.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let i=t.cache.get(s);if(i)return i;const n=t.json,o=((n.extensions&&n.extensions[this.name]||{}).lights||[])[e];let c;const h=new Y(16777215);o.color!==void 0&&h.setRGB(o.color[0],o.color[1],o.color[2],Qe);const l=o.range!==void 0?o.range:0;switch(o.type){case"directional":c=new xi(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Mi(h),c.distance=l;break;case"spot":c=new Si(h),c.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,c.angle=o.spot.outerConeAngle,c.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return c.position.set(0,0,0),c.decay=2,pe(c,o),o.intensity!==void 0&&(c.intensity=o.intensity),c.name=t.createUniqueName(o.name||"light_"+e),i=Promise.resolve(c),t.cache.add(s,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,s=this.parser,n=s.json.nodes[e],r=(n.extensions&&n.extensions[this.name]||{}).light;return r===void 0?null:this._loadLight(r).then(function(o){return s._getNodeRef(t.cache,r,o)})}},nr=class{constructor(){this.name=w.KHR_MATERIALS_UNLIT}getMaterialType(){return Be}extendParams(e,t,s){const i=[];e.color=new Y(1,1,1),e.opacity=1;const n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){const a=n.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Qe),e.opacity=a[3]}n.baseColorTexture!==void 0&&i.push(s.assignTexture(e,"map",n.baseColorTexture,Pe))}return Promise.all(i)}},ar=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name].emissiveStrength;return n!==void 0&&(t.emissiveIntensity=n),Promise.resolve()}},or=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&n.push(s.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&n.push(s.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(n.push(s.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const r=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Pt(r,r)}return Promise.all(n)}},rr=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_DISPERSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name];return t.dispersion=n.dispersion!==void 0?n.dispersion:0,Promise.resolve()}},cr=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&n.push(s.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&n.push(s.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(n)}},lr=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[];t.sheenColor=new Y(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const r=a.sheenColorFactor;t.sheenColor.setRGB(r[0],r[1],r[2],Qe)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&n.push(s.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Pe)),a.sheenRoughnessTexture!==void 0&&n.push(s.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(n)}},hr=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&n.push(s.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(n)}},gr=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&n.push(s.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const r=a.attenuationColor||[1,1,1];return t.attenuationColor=new Y().setRGB(r[0],r[1],r[2],Qe),Promise.all(n)}},dr=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name];return t.ior=n.ior!==void 0?n.ior:1.5,Promise.resolve()}},Br=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&n.push(s.assignTexture(t,"specularIntensityMap",a.specularTexture));const r=a.specularColorFactor||[1,1,1];return t.specularColor=new Y().setRGB(r[0],r[1],r[2],Qe),a.specularColorTexture!==void 0&&n.push(s.assignTexture(t,"specularColorMap",a.specularColorTexture,Pe)),Promise.all(n)}},ur=class{constructor(e){this.parser=e,this.name=w.EXT_MATERIALS_BUMP}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&n.push(s.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(n)}},fr=class{constructor(e){this.parser=e,this.name=w.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&n.push(s.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(n)}},Cr=class{constructor(e){this.parser=e,this.name=w.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,i=s.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const n=i.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,n.source,a)}},Ir=class{constructor(e){this.parser=e,this.name=w.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,i=s.json,n=i.textures[e];if(!n.extensions||!n.extensions[t])return null;const a=n.extensions[t],r=i.images[a.source];let o=s.textureLoader;if(r.uri){const c=s.options.manager.getHandler(r.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,a.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}},Er=class{constructor(e){this.parser=e,this.name=w.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,i=s.json,n=i.textures[e];if(!n.extensions||!n.extensions[t])return null;const a=n.extensions[t],r=i.images[a.source];let o=s.textureLoader;if(r.uri){const c=s.options.manager.getHandler(r.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,a.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}},pr=class{constructor(e){this.name=w.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const i=s.extensions[this.name],n=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return n.then(function(r){const o=i.byteOffset||0,c=i.byteLength||0,h=i.count,l=i.byteStride,g=new Uint8Array(r,o,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(h,l,g,i.mode,i.filter).then(function(d){return d.buffer}):a.ready.then(function(){const d=new ArrayBuffer(h*l);return a.decodeGltfBuffer(new Uint8Array(d),h,l,g,i.mode,i.filter),d})})}else return null}},mr=class{constructor(e){this.name=w.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,s=t.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const i=t.meshes[s.mesh];for(const c of i.primitives)if(c.mode!==z.TRIANGLES&&c.mode!==z.TRIANGLE_STRIP&&c.mode!==z.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=s.extensions[this.name].attributes,r=[],o={};for(const c in a)r.push(this.parser.getDependency("accessor",a[c]).then(h=>(o[c]=h,o[c])));return r.length<1?null:(r.push(this.parser.createNodeMesh(e)),Promise.all(r).then(c=>{const h=c.pop(),l=h.isGroup?h.children:[h],g=c[0].count,d=[];for(const u of l){const f=new se,E=new j,B=new ht,C=new j(1,1,1),p=new Li(u.geometry,u.material,g);for(let I=0;I<g;I++)o.TRANSLATION&&E.fromBufferAttribute(o.TRANSLATION,I),o.ROTATION&&B.fromBufferAttribute(o.ROTATION,I),o.SCALE&&C.fromBufferAttribute(o.SCALE,I),p.setMatrixAt(I,f.compose(E,B,C));for(const I in o)if(I==="_COLOR_0"){const m=o[I];p.instanceColor=new ki(m.array,m.itemSize,m.normalized)}else I!=="TRANSLATION"&&I!=="ROTATION"&&I!=="SCALE"&&u.geometry.setAttribute(I,o[I]);dA.prototype.copy.call(p,u),this.parser.assignFinalMaterial(p),d.push(p)}return h.isGroup?(h.clear(),h.add(...d),h):d[0]}))}};const Kn="glTF",It=12,li={JSON:1313821514,BIN:5130562};let br=class{constructor(e){this.name=w.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,It);if(this.header={magic:lA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Kn)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-It,i=new DataView(e,It);let n=0;for(;n<s;){const a=i.getUint32(n,!0);n+=4;const r=i.getUint32(n,!0);if(n+=4,r===li.JSON){const o=new Uint8Array(e,It+n,a);this.content=lA(o)}else if(r===li.BIN){const o=It+n;this.body=e.slice(o,o+a)}n+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}},Qr=class{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=w.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,i=this.dracoLoader,n=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,r={},o={},c={};for(const h in a){const l=cs[h]||h.toLowerCase();r[l]=a[h]}for(const h in e.attributes){const l=cs[h]||h.toLowerCase();if(a[h]!==void 0){const g=s.accessors[e.attributes[h]],d=it[g.componentType];c[l]=d.name,o[l]=g.normalized===!0}}return t.getDependency("bufferView",n).then(function(h){return new Promise(function(l,g){i.decodeDracoFile(h,function(d){for(const u in d.attributes){const f=d.attributes[u],E=o[u];E!==void 0&&(f.normalized=E)}l(d)},r,c,Qe,g)})})}},_r=class{constructor(){this.name=w.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}},Fr=class{constructor(){this.name=w.KHR_MESH_QUANTIZATION}},jn=class extends rn{constructor(e,t,s,i){super(e,t,s,i)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,i=this.valueSize,n=e*i*3+i;for(let a=0;a!==i;a++)t[a]=s[n+a];return t}interpolate_(e,t,s,i){const n=this.resultBuffer,a=this.sampleValues,r=this.valueSize,o=r*2,c=r*3,h=i-t,l=(s-t)/h,g=l*l,d=g*l,u=e*c,f=u-c,E=-2*d+3*g,B=d-g,C=1-E,p=B-g+l;for(let I=0;I!==r;I++){const m=a[f+I+r],Q=a[f+I+o]*h,_=a[u+I+r],y=a[u+I]*h;n[I]=C*m+p*Q+E*_+B*y}return n}};const Dr=new ht;let yr=class extends jn{interpolate_(e,t,s,i){const n=super.interpolate_(e,t,s,i);return Dr.fromArray(n).normalize().toArray(n),n}};const z={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},it={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},hi={9728:fs,9729:_e,9984:Ni,9985:vi,9986:Hi,9987:gt},gi={33071:Ji,33648:Pi,10497:ot},TA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},cs={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Zo>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ge={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Tr={CUBICSPLINE:void 0,LINEAR:uA,STEP:nn},RA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Rr(A){return A.DefaultMaterial===void 0&&(A.DefaultMaterial=new BA({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:on})),A.DefaultMaterial}function Oe(A,e,t){for(const s in t.extensions)A[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=t.extensions[s])}function pe(A,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(A.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Gr(A,e,t){let s=!1,i=!1,n=!1;for(let c=0,h=e.length;c<h;c++){const l=e[c];if(l.POSITION!==void 0&&(s=!0),l.NORMAL!==void 0&&(i=!0),l.COLOR_0!==void 0&&(n=!0),s&&i&&n)break}if(!s&&!i&&!n)return Promise.resolve(A);const a=[],r=[],o=[];for(let c=0,h=e.length;c<h;c++){const l=e[c];if(s){const g=l.POSITION!==void 0?t.getDependency("accessor",l.POSITION):A.attributes.position;a.push(g)}if(i){const g=l.NORMAL!==void 0?t.getDependency("accessor",l.NORMAL):A.attributes.normal;r.push(g)}if(n){const g=l.COLOR_0!==void 0?t.getDependency("accessor",l.COLOR_0):A.attributes.color;o.push(g)}}return Promise.all([Promise.all(a),Promise.all(r),Promise.all(o)]).then(function(c){const h=c[0],l=c[1],g=c[2];return s&&(A.morphAttributes.position=h),i&&(A.morphAttributes.normal=l),n&&(A.morphAttributes.color=g),A.morphTargetsRelative=!0,A})}function wr(A,e){if(A.updateMorphTargets(),e.weights!==void 0)for(let t=0,s=e.weights.length;t<s;t++)A.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(A.morphTargetInfluences.length===t.length){A.morphTargetDictionary={};for(let s=0,i=t.length;s<i;s++)A.morphTargetDictionary[t[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Sr(A){let e;const t=A.extensions&&A.extensions[w.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+GA(t.attributes):e=A.indices+":"+GA(A.attributes)+":"+A.mode,A.targets!==void 0)for(let s=0,i=A.targets.length;s<i;s++)e+=":"+GA(A.targets[s]);return e}function GA(A){let e="";const t=Object.keys(A).sort();for(let s=0,i=t.length;s<i;s++)e+=t[s]+":"+A[t[s]]+";";return e}function ls(A){switch(A){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Mr(A){return A.search(/\.jpe?g($|\?)/i)>0||A.search(/^data\:image\/jpeg/)===0?"image/jpeg":A.search(/\.webp($|\?)/i)>0||A.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const xr=new se;let Lr=class{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new sr,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,i=!1,n=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,n=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||s||i&&n<98?this.textureLoader=new Jt(this.options.manager):this.textureLoader=new Oi(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new be(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,i=this.json,n=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(a){const r={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:s,userData:{}};return Oe(n,r,i),pe(r,i),Promise.all(s._invokeAll(function(o){return o.afterRoot&&o.afterRoot(r)})).then(function(){for(const o of r.scenes)o.updateMatrixWorld();e(r)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let i=0,n=t.length;i<n;i++){const a=t[i].joints;for(let r=0,o=a.length;r<o;r++)e[a[r]].isBone=!0}for(let i=0,n=e.length;i<n;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(s[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const i=s.clone(),n=(a,r)=>{const o=this.associations.get(a);o!=null&&this.associations.set(r,o);for(const[c,h]of a.children.entries())n(h,r.children[c])};return n(s,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const i=e(t[s]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let i=0;i<t.length;i++){const n=e(t[i]);n&&s.push(n)}return s}getDependency(e,t){const s=e+":"+t;let i=this.cache.get(s);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(n){return n.loadNode&&n.loadNode(t)});break;case"mesh":i=this._invokeOne(function(n){return n.loadMesh&&n.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(n){return n.loadBufferView&&n.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(n){return n.loadMaterial&&n.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(n){return n.loadTexture&&n.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(n){return n.loadAnimation&&n.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(s,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(n,a){return s.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[w.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(n,a){s.load(ue.resolveURL(t.uri,i.path),n,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(s){const i=t.byteLength||0,n=t.byteOffset||0;return s.slice(n,n+i)})}loadAccessor(e){const t=this,s=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=TA[i.type],r=it[i.componentType],o=i.normalized===!0,c=new r(i.count*a);return Promise.resolve(new Le(c,a,o))}const n=[];return i.bufferView!==void 0?n.push(this.getDependency("bufferView",i.bufferView)):n.push(null),i.sparse!==void 0&&(n.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(n).then(function(a){const r=a[0],o=TA[i.type],c=it[i.componentType],h=c.BYTES_PER_ELEMENT,l=h*o,g=i.byteOffset||0,d=i.bufferView!==void 0?s.bufferViews[i.bufferView].byteStride:void 0,u=i.normalized===!0;let f,E;if(d&&d!==l){const B=Math.floor(g/d),C="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+B+":"+i.count;let p=t.cache.get(C);p||(f=new c(r,B*d,i.count*d/h),p=new Ui(f,d/h),t.cache.add(C,p)),E=new an(p,o,g%d/h,u)}else r===null?f=new c(i.count*o):f=new c(r,g,i.count*o),E=new Le(f,o,u);if(i.sparse!==void 0){const B=TA.SCALAR,C=it[i.sparse.indices.componentType],p=i.sparse.indices.byteOffset||0,I=i.sparse.values.byteOffset||0,m=new C(a[1],p,i.sparse.count*B),Q=new c(a[2],I,i.sparse.count*o);r!==null&&(E=new Le(E.array.slice(),E.itemSize,E.normalized));for(let _=0,y=m.length;_<y;_++){const D=m[_];if(E.setX(D,Q[_*o]),o>=2&&E.setY(D,Q[_*o+1]),o>=3&&E.setZ(D,Q[_*o+2]),o>=4&&E.setW(D,Q[_*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(e){const t=this.json,s=this.options,n=t.textures[e].source,a=t.images[n];let r=this.textureLoader;if(a.uri){const o=s.manager.getHandler(a.uri);o!==null&&(r=o)}return this.loadTextureImage(e,n,r)}loadTextureImage(e,t,s){const i=this,n=this.json,a=n.textures[e],r=n.images[t],o=(r.uri||r.bufferView)+":"+a.sampler;if(this.textureCache[o])return this.textureCache[o];const c=this.loadImageSource(t,s).then(function(h){h.flipY=!1,h.name=a.name||r.name||"",h.name===""&&typeof r.uri=="string"&&r.uri.startsWith("data:image/")===!1&&(h.name=r.uri);const g=(n.samplers||{})[a.sampler]||{};return h.magFilter=hi[g.magFilter]||_e,h.minFilter=hi[g.minFilter]||gt,h.wrapS=gi[g.wrapS]||ot,h.wrapT=gi[g.wrapT]||ot,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[o]=c,c}loadImageSource(e,t){const s=this,i=this.json,n=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(l=>l.clone());const a=i.images[e],r=self.URL||self.webkitURL;let o=a.uri||"",c=!1;if(a.bufferView!==void 0)o=s.getDependency("bufferView",a.bufferView).then(function(l){c=!0;const g=new Blob([l],{type:a.mimeType});return o=r.createObjectURL(g),o});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(o).then(function(l){return new Promise(function(g,d){let u=g;t.isImageBitmapLoader===!0&&(u=function(f){const E=new rt(f);E.needsUpdate=!0,g(E)}),t.load(ue.resolveURL(l,n.path),u,void 0,d)})}).then(function(l){return c===!0&&r.revokeObjectURL(o),pe(l,a),l.userData.mimeType=a.mimeType||Mr(a.uri),l}).catch(function(l){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),l});return this.sourceCache[e]=h,h}assignTexture(e,t,s,i){const n=this;return this.getDependency("texture",s.index).then(function(a){if(!a)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(a=a.clone(),a.channel=s.texCoord),n.extensions[w.KHR_TEXTURE_TRANSFORM]){const r=s.extensions!==void 0?s.extensions[w.KHR_TEXTURE_TRANSFORM]:void 0;if(r){const o=n.associations.get(a);a=n.extensions[w.KHR_TEXTURE_TRANSFORM].extendTexture(a,r),n.associations.set(a,o)}}return i!==void 0&&(typeof i=="number"&&(i=i===ci?Pe:Qe),"colorSpace"in a?a.colorSpace=i:a.encoding=i===Pe?ci:Ar),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const i=t.attributes.tangent===void 0,n=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const r="PointsMaterial:"+s.uuid;let o=this.cache.get(r);o||(o=new Ki,et.prototype.copy.call(o,s),o.color.copy(s.color),o.map=s.map,o.sizeAttenuation=!1,this.cache.add(r,o)),s=o}else if(e.isLine){const r="LineBasicMaterial:"+s.uuid;let o=this.cache.get(r);o||(o=new ji,et.prototype.copy.call(o,s),o.color.copy(s.color),o.map=s.map,this.cache.add(r,o)),s=o}if(i||n||a){let r="ClonedMaterial:"+s.uuid+":";i&&(r+="derivative-tangents:"),n&&(r+="vertex-colors:"),a&&(r+="flat-shading:");let o=this.cache.get(r);o||(o=s.clone(),n&&(o.vertexColors=!0),a&&(o.flatShading=!0),i&&(o.normalScale&&(o.normalScale.y*=-1),o.clearcoatNormalScale&&(o.clearcoatNormalScale.y*=-1)),this.cache.add(r,o),this.associations.set(o,this.associations.get(s))),s=o}e.material=s}getMaterialType(){return BA}loadMaterial(e){const t=this,s=this.json,i=this.extensions,n=s.materials[e];let a;const r={},o=n.extensions||{},c=[];if(o[w.KHR_MATERIALS_UNLIT]){const l=i[w.KHR_MATERIALS_UNLIT];a=l.getMaterialType(),c.push(l.extendParams(r,n,t))}else{const l=n.pbrMetallicRoughness||{};if(r.color=new Y(1,1,1),r.opacity=1,Array.isArray(l.baseColorFactor)){const g=l.baseColorFactor;r.color.setRGB(g[0],g[1],g[2],Qe),r.opacity=g[3]}l.baseColorTexture!==void 0&&c.push(t.assignTexture(r,"map",l.baseColorTexture,Pe)),r.metalness=l.metallicFactor!==void 0?l.metallicFactor:1,r.roughness=l.roughnessFactor!==void 0?l.roughnessFactor:1,l.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(r,"metalnessMap",l.metallicRoughnessTexture)),c.push(t.assignTexture(r,"roughnessMap",l.metallicRoughnessTexture))),a=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(e,r)})))}n.doubleSided===!0&&(r.side=qi);const h=n.alphaMode||RA.OPAQUE;if(h===RA.BLEND?(r.transparent=!0,r.depthWrite=!1):(r.transparent=!1,h===RA.MASK&&(r.alphaTest=n.alphaCutoff!==void 0?n.alphaCutoff:.5)),n.normalTexture!==void 0&&a!==Be&&(c.push(t.assignTexture(r,"normalMap",n.normalTexture)),r.normalScale=new Pt(1,1),n.normalTexture.scale!==void 0)){const l=n.normalTexture.scale;r.normalScale.set(l,l)}if(n.occlusionTexture!==void 0&&a!==Be&&(c.push(t.assignTexture(r,"aoMap",n.occlusionTexture)),n.occlusionTexture.strength!==void 0&&(r.aoMapIntensity=n.occlusionTexture.strength)),n.emissiveFactor!==void 0&&a!==Be){const l=n.emissiveFactor;r.emissive=new Y().setRGB(l[0],l[1],l[2],Qe)}return n.emissiveTexture!==void 0&&a!==Be&&c.push(t.assignTexture(r,"emissiveMap",n.emissiveTexture,Pe)),Promise.all(c).then(function(){const l=new a(r);return n.name&&(l.name=n.name),pe(l,n),t.associations.set(l,{materials:e}),n.extensions&&Oe(i,l,n),l})}createUniqueName(e){const t=Yi.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,s=this.extensions,i=this.primitiveCache;function n(r){return s[w.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(r,t).then(function(o){return di(o,r,t)})}const a=[];for(let r=0,o=e.length;r<o;r++){const c=e[r],h=Sr(c),l=i[h];if(l)a.push(l.promise);else{let g;c.extensions&&c.extensions[w.KHR_DRACO_MESH_COMPRESSION]?g=n(c):g=di(new Cs,c,t),i[h]={primitive:c,promise:g},a.push(g)}}return Promise.all(a)}loadMesh(e){const t=this,s=this.json,i=this.extensions,n=s.meshes[e],a=n.primitives,r=[];for(let o=0,c=a.length;o<c;o++){const h=a[o].material===void 0?Rr(this.cache):this.getDependency("material",a[o].material);r.push(h)}return r.push(t.loadGeometries(a)),Promise.all(r).then(function(o){const c=o.slice(0,o.length-1),h=o[o.length-1],l=[];for(let d=0,u=h.length;d<u;d++){const f=h[d],E=a[d];let B;const C=c[d];if(E.mode===z.TRIANGLES||E.mode===z.TRIANGLE_STRIP||E.mode===z.TRIANGLE_FAN||E.mode===void 0)B=n.isSkinnedMesh===!0?new Vi(f,C):new Xi(f,C),B.isSkinnedMesh===!0&&B.normalizeSkinWeights(),E.mode===z.TRIANGLE_STRIP?B.geometry=ri(B.geometry,hA):E.mode===z.TRIANGLE_FAN&&(B.geometry=ri(B.geometry,at));else if(E.mode===z.LINES)B=new Wi(f,C);else if(E.mode===z.LINE_STRIP)B=new zi(f,C);else if(E.mode===z.LINE_LOOP)B=new Zi(f,C);else if(E.mode===z.POINTS)B=new $i(f,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(B.geometry.morphAttributes).length>0&&wr(B,n),B.name=t.createUniqueName(n.name||"mesh_"+e),pe(B,n),E.extensions&&Oe(i,B,E),t.assignFinalMaterial(B),l.push(B)}for(let d=0,u=l.length;d<u;d++)t.associations.set(l[d],{meshes:e,primitives:d});if(l.length===1)return n.extensions&&Oe(i,l[0],n),l[0];const g=new tt;n.extensions&&Oe(i,g,n),t.associations.set(g,{meshes:e});for(let d=0,u=l.length;d<u;d++)g.add(l[d]);return g})}loadCamera(e){let t;const s=this.json.cameras[e],i=s[s.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?t=new en(Is.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):s.type==="orthographic"&&(t=new tn(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),pe(t,s),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],s=[];for(let i=0,n=t.joints.length;i<n;i++)s.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",t.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(i){const n=i.pop(),a=i,r=[],o=[];for(let c=0,h=a.length;c<h;c++){const l=a[c];if(l){r.push(l);const g=new se;n!==null&&g.fromArray(n.array,c*16),o.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new An(r,o)})}loadAnimation(e){const t=this.json,s=this,i=t.animations[e],n=i.name?i.name:"animation_"+e,a=[],r=[],o=[],c=[],h=[];for(let l=0,g=i.channels.length;l<g;l++){const d=i.channels[l],u=i.samplers[d.sampler],f=d.target,E=f.node,B=i.parameters!==void 0?i.parameters[u.input]:u.input,C=i.parameters!==void 0?i.parameters[u.output]:u.output;f.node!==void 0&&(a.push(this.getDependency("node",E)),r.push(this.getDependency("accessor",B)),o.push(this.getDependency("accessor",C)),c.push(u),h.push(f))}return Promise.all([Promise.all(a),Promise.all(r),Promise.all(o),Promise.all(c),Promise.all(h)]).then(function(l){const g=l[0],d=l[1],u=l[2],f=l[3],E=l[4],B=[];for(let C=0,p=g.length;C<p;C++){const I=g[C],m=d[C],Q=u[C],_=f[C],y=E[C];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();const D=s._createAnimationTracks(I,m,Q,_,y);if(D)for(let L=0;L<D.length;L++)B.push(D[L])}return new us(n,void 0,B)})}createNodeMesh(e){const t=this.json,s=this,i=t.nodes[e];return i.mesh===void 0?null:s.getDependency("mesh",i.mesh).then(function(n){const a=s._getNodeRef(s.meshCache,i.mesh,n);return i.weights!==void 0&&a.traverse(function(r){if(r.isMesh)for(let o=0,c=i.weights.length;o<c;o++)r.morphTargetInfluences[o]=i.weights[o]}),a})}loadNode(e){const t=this.json,s=this,i=t.nodes[e],n=s._loadNodeShallow(e),a=[],r=i.children||[];for(let c=0,h=r.length;c<h;c++)a.push(s.getDependency("node",r[c]));const o=i.skin===void 0?Promise.resolve(null):s.getDependency("skin",i.skin);return Promise.all([n,Promise.all(a),o]).then(function(c){const h=c[0],l=c[1],g=c[2];g!==null&&h.traverse(function(d){d.isSkinnedMesh&&d.bind(g,xr)});for(let d=0,u=l.length;d<u;d++)h.add(l[d]);return h})}_loadNodeShallow(e){const t=this.json,s=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const n=t.nodes[e],a=n.name?i.createUniqueName(n.name):"",r=[],o=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return o&&r.push(o),n.camera!==void 0&&r.push(i.getDependency("camera",n.camera).then(function(c){return i._getNodeRef(i.cameraCache,n.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){r.push(c)}),this.nodeCache[e]=Promise.all(r).then(function(c){let h;if(n.isBone===!0?h=new sn:c.length>1?h=new tt:c.length===1?h=c[0]:h=new dA,h!==c[0])for(let l=0,g=c.length;l<g;l++)h.add(c[l]);if(n.name&&(h.userData.name=n.name,h.name=a),pe(h,n),n.extensions&&Oe(s,h,n),n.matrix!==void 0){const l=new se;l.fromArray(n.matrix),h.applyMatrix4(l)}else n.translation!==void 0&&h.position.fromArray(n.translation),n.rotation!==void 0&&h.quaternion.fromArray(n.rotation),n.scale!==void 0&&h.scale.fromArray(n.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,s=this.json.scenes[e],i=this,n=new tt;s.name&&(n.name=i.createUniqueName(s.name)),pe(n,s),s.extensions&&Oe(t,n,s);const a=s.nodes||[],r=[];for(let o=0,c=a.length;o<c;o++)r.push(i.getDependency("node",a[o]));return Promise.all(r).then(function(o){for(let h=0,l=o.length;h<l;h++)n.add(o[h]);const c=h=>{const l=new Map;for(const[g,d]of i.associations)(g instanceof et||g instanceof rt)&&l.set(g,d);return h.traverse(g=>{const d=i.associations.get(g);d!=null&&l.set(g,d)}),l};return i.associations=c(n),n})}_createAnimationTracks(e,t,s,i,n){const a=[],r=e.name?e.name:e.uuid,o=[];Ge[n.path]===Ge.weights?e.traverse(function(g){g.morphTargetInfluences&&o.push(g.name?g.name:g.uuid)}):o.push(r);let c;switch(Ge[n.path]){case Ge.weights:c=AA;break;case Ge.rotation:c=xt;break;case Ge.position:case Ge.scale:c=Mt;break;default:switch(s.itemSize){case 1:c=AA;break;case 2:case 3:default:c=Mt;break}break}const h=i.interpolation!==void 0?Tr[i.interpolation]:uA,l=this._getArrayFromAccessor(s);for(let g=0,d=o.length;g<d;g++){const u=new c(o[g]+"."+Ge[n.path],t.array,l,h);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(u),a.push(u)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const s=ls(t.constructor),i=new Float32Array(t.length);for(let n=0,a=t.length;n<a;n++)i[n]=t[n]*s;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(s){const i=this instanceof xt?yr:jn;return new i(this.times,this.values,this.getValueSize()/3,s)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}};function kr(A,e,t){const s=e.attributes,i=new Es;if(s.POSITION!==void 0){const r=t.json.accessors[s.POSITION],o=r.min,c=r.max;if(o!==void 0&&c!==void 0){if(i.set(new j(o[0],o[1],o[2]),new j(c[0],c[1],c[2])),r.normalized){const h=ls(it[r.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const n=e.targets;if(n!==void 0){const r=new j,o=new j;for(let c=0,h=n.length;c<h;c++){const l=n[c];if(l.POSITION!==void 0){const g=t.json.accessors[l.POSITION],d=g.min,u=g.max;if(d!==void 0&&u!==void 0){if(o.setX(Math.max(Math.abs(d[0]),Math.abs(u[0]))),o.setY(Math.max(Math.abs(d[1]),Math.abs(u[1]))),o.setZ(Math.max(Math.abs(d[2]),Math.abs(u[2]))),g.normalized){const f=ls(it[g.componentType]);o.multiplyScalar(f)}r.max(o)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(r)}A.boundingBox=i;const a=new ps;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,A.boundingSphere=a}function di(A,e,t){const s=e.attributes,i=[];function n(a,r){return t.getDependency("accessor",a).then(function(o){A.setAttribute(r,o)})}for(const a in s){const r=cs[a]||a.toLowerCase();r in A.attributes||i.push(n(s[a],r))}if(e.indices!==void 0&&!A.index){const a=t.getDependency("accessor",e.indices).then(function(r){A.setIndex(r)});i.push(a)}return pe(A,e),kr(A,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Gr(A,e.targets,t):A})}const wA=new WeakMap;class Or extends gA{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,s,i){const n=new be(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,a=>{const r={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,r).then(t).catch(i)},s,i)}decodeDracoFile(e,t,s,i){const n={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!s};this.decodeGeometry(e,n).then(t)}decodeGeometry(e,t){for(const o in t.attributeTypes){const c=t.attributeTypes[o];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[o]=c.name)}const s=JSON.stringify(t);if(wA.has(e)){const o=wA.get(e);if(o.key===s)return o.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const n=this.workerNextTaskID++,a=e.byteLength,r=this._getWorker(n,a).then(o=>(i=o,new Promise((c,h)=>{i._callbacks[n]={resolve:c,reject:h},i.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(o=>this._createGeometry(o.geometry));return r.catch(()=>!0).then(()=>{i&&n&&this._releaseTask(i,n)}),wA.set(e,{key:s,promise:r}),r}_createGeometry(e){const t=new Cs;e.index&&t.setIndex(new Le(e.index.array,1));for(let s=0;s<e.attributes.length;s++){const i=e.attributes[s],n=i.name,a=i.array,r=i.itemSize;t.setAttribute(n,new Le(a,r))}return t}_loadLibrary(e,t){const s=new be(this.manager);return s.setPath(this.decoderPath),s.setResponseType(t),s.setWithCredentials(this.withCredentials),new Promise((i,n)=>{s.load(e,i,void 0,n)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(s=>{const i=s[0];e||(this.decoderConfig.wasmBinary=s[1]);const n=Ur.toString(),a=["/* draco decoder */",i,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(n){const a=n.data;switch(a.type){case"decode":i._callbacks[a.id].resolve(a);break;case"error":i._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,n){return i._taskLoad>n._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[e]=t,s._taskLoad+=t,s})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Ur(){let A,e;onmessage=function(a){const r=a.data;switch(r.type){case"init":A=r.decoderConfig,e=new Promise(function(h){A.onModuleLoaded=function(l){h({draco:l})},DracoDecoderModule(A)});break;case"decode":const o=r.buffer,c=r.taskConfig;e.then(h=>{const l=h.draco,g=new l.Decoder,d=new l.DecoderBuffer;d.Init(new Int8Array(o),o.byteLength);try{const u=t(l,g,d,c),f=u.attributes.map(E=>E.array.buffer);u.index&&f.push(u.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:u},f)}catch(u){console.error(u),self.postMessage({type:"error",id:r.id,error:u.message})}finally{l.destroy(d),l.destroy(g)}});break}};function t(a,r,o,c){const h=c.attributeIDs,l=c.attributeTypes;let g,d;const u=r.GetEncodedGeometryType(o);if(u===a.TRIANGULAR_MESH)g=new a.Mesh,d=r.DecodeBufferToMesh(o,g);else if(u===a.POINT_CLOUD)g=new a.PointCloud,d=r.DecodeBufferToPointCloud(o,g);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||g.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const f={index:null,attributes:[]};for(const E in h){const B=self[l[E]];let C,p;if(c.useUniqueIDs)p=h[E],C=r.GetAttributeByUniqueId(g,p);else{if(p=r.GetAttributeId(g,a[h[E]]),p===-1)continue;C=r.GetAttribute(g,p)}f.attributes.push(i(a,r,g,E,B,C))}return u===a.TRIANGULAR_MESH&&(f.index=s(a,r,g)),a.destroy(g),f}function s(a,r,o){const h=o.num_faces()*3,l=h*4,g=a._malloc(l);r.GetTrianglesUInt32Array(o,l,g);const d=new Uint32Array(a.HEAPF32.buffer,g,h).slice();return a._free(g),{array:d,itemSize:1}}function i(a,r,o,c,h,l){const g=l.num_components(),u=o.num_points()*g,f=u*h.BYTES_PER_ELEMENT,E=n(a,h),B=a._malloc(f);r.GetAttributeDataArrayForAllPoints(o,l,E,f,B);const C=new h(a.HEAPF32.buffer,B,u).slice();return a._free(B),{name:c,array:C,itemSize:g}}function n(a,r){switch(r){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let Xt;const SA=()=>{if(Xt)return Xt;const A="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",e="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",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),s=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=A;WebAssembly.validate(t)&&(i=e);let n;const a=WebAssembly.instantiate(r(i),{}).then(l=>{n=l.instance,n.exports.__wasm_call_ctors()});function r(l){const g=new Uint8Array(l.length);for(let u=0;u<l.length;++u){const f=l.charCodeAt(u);g[u]=f>96?f-71:f>64?f-65:f>47?f+4:f>46?63:62}let d=0;for(let u=0;u<l.length;++u)g[d++]=g[u]<60?s[g[u]]:(g[u]-60)*64+g[++u];return g.buffer.slice(0,d)}function o(l,g,d,u,f,E){const B=n.exports.sbrk,C=d+3&-4,p=B(C*u),I=B(f.length),m=new Uint8Array(n.exports.memory.buffer);m.set(f,I);const Q=l(p,d,u,I,f.length);if(Q===0&&E&&E(p,C,u),g.set(m.subarray(p,p+d*u)),B(p-B(0)),Q!==0)throw new Error(`Malformed buffer data: ${Q}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Xt={ready:a,supported:!0,decodeVertexBuffer(l,g,d,u,f){o(n.exports.meshopt_decodeVertexBuffer,l,g,d,u,n.exports[c[f]])},decodeIndexBuffer(l,g,d,u){o(n.exports.meshopt_decodeIndexBuffer,l,g,d,u)},decodeIndexSequence(l,g,d,u){o(n.exports.meshopt_decodeIndexSequence,l,g,d,u)},decodeGltfBuffer(l,g,d,u,f,E){o(n.exports[h[f]],l,g,d,u,n.exports[c[E]])}},Xt},MA=A=>A===Object(A)&&!Array.isArray(A)&&typeof A!="function";function qn(A,e){const t=he(n=>n.gl),s=dt(Jt,MA(A)?Object.values(A):A);return M.useLayoutEffect(()=>{e==null||e(s)},[e]),M.useEffect(()=>{if("initTexture"in t){let n=[];Array.isArray(s)?n=s:s instanceof rt?n=[s]:MA(s)&&(n=Object.values(s)),n.forEach(a=>{a instanceof rt&&t.initTexture(a)})}},[t,s]),M.useMemo(()=>{if(MA(A)){const n={};let a=0;for(const r in A)n[r]=s[a++];return n}else return s},[A,s])}qn.preload=A=>dt.preload(Jt,A);qn.clear=A=>dt.clear(Jt,A);let Wt=null,Yn="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function Vn(A=!0,e=!0,t){return s=>{t&&t(s),A&&(Wt||(Wt=new Or),Wt.setDecoderPath(typeof A=="string"?A:Yn),s.setDRACOLoader(Wt)),e&&s.setMeshoptDecoder(typeof SA=="function"?SA():SA)}}const Os=(A,e,t,s)=>dt(ks,A,Vn(e,t,s));Os.preload=(A,e,t,s)=>dt.preload(ks,A,Vn(e,t,s));Os.clear=A=>dt.clear(ks,A);Os.setDecoderPath=A=>{Yn=A};/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const v={LEFT:1,RIGHT:2,MIDDLE:4},b=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Ve={NONE:0,IN:1,OUT:-1};function Ue(A){return A.isPerspectiveCamera}function Se(A){return A.isOrthographicCamera}const Xe=Math.PI*2,Bi=Math.PI/2,Xn=1e-5,Et=Math.PI/180;function ne(A,e,t){return Math.max(e,Math.min(t,A))}function H(A,e=Xn){return Math.abs(A)<e}function k(A,e,t=Xn){return H(A-e,t)}function ui(A,e){return Math.round(A/e)*e}function pt(A){return isFinite(A)?A:A<0?-Number.MAX_VALUE:Number.MAX_VALUE}function mt(A){return Math.abs(A)<Number.MAX_VALUE?A:A*(1/0)}function zt(A,e,t,s,i=1/0,n){s=Math.max(1e-4,s);const a=2/s,r=a*n,o=1/(1+r+.48*r*r+.235*r*r*r);let c=A-e;const h=e,l=i*s;c=ne(c,-l,l),e=A-c;const g=(t.value+a*c)*n;t.value=(t.value-a*g)*o;let d=e+(c+g)*o;return h-A>0==d>h&&(d=h,t.value=(d-h)/n),d}function fi(A,e,t,s,i=1/0,n,a){s=Math.max(1e-4,s);const r=2/s,o=r*n,c=1/(1+o+.48*o*o+.235*o*o*o);let h=e.x,l=e.y,g=e.z,d=A.x-h,u=A.y-l,f=A.z-g;const E=h,B=l,C=g,p=i*s,I=p*p,m=d*d+u*u+f*f;if(m>I){const De=Math.sqrt(m);d=d/De*p,u=u/De*p,f=f/De*p}h=A.x-d,l=A.y-u,g=A.z-f;const Q=(t.x+r*d)*n,_=(t.y+r*u)*n,y=(t.z+r*f)*n;t.x=(t.x-r*Q)*c,t.y=(t.y-r*_)*c,t.z=(t.z-r*y)*c,a.x=h+(d+Q)*c,a.y=l+(u+_)*c,a.z=g+(f+y)*c;const D=E-A.x,L=B-A.y,U=C-A.z,P=a.x-E,V=a.y-B,ie=a.z-C;return D*P+L*V+U*ie>0&&(a.x=E,a.y=B,a.z=C,t.x=(a.x-E)/n,t.y=(a.y-B)/n,t.z=(a.z-C)/n),a}function xA(A,e){e.set(0,0),A.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=A.length,e.y/=A.length}function LA(A,e){return Se(A)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class Hr{constructor(){this._listeners={}}addEventListener(e,t){const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(t)===-1&&s[e].push(t)}hasEventListener(e,t){const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners[e];if(i!==void 0){const n=i.indexOf(t);n!==-1&&i.splice(n,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const s=this._listeners[e.type];if(s!==void 0){e.target=this;const i=s.slice(0);for(let n=0,a=i.length;n<a;n++)i[n].call(this,e)}}}var kA;const vr="2.9.0",Zt=1/8,Nr=/Mac/.test((kA=globalThis==null?void 0:globalThis.navigator)===null||kA===void 0?void 0:kA.platform);let T,Ci,$t,OA,q,G,x,We,bt,ce,le,He,Ii,Ei,W,Qt,ze,pi,UA,mi,HA,vA,eA,NA=class hs extends Hr{static install(e){T=e.THREE,Ci=Object.freeze(new T.Vector3(0,0,0)),$t=Object.freeze(new T.Vector3(0,1,0)),OA=Object.freeze(new T.Vector3(0,0,1)),q=new T.Vector2,G=new T.Vector3,x=new T.Vector3,We=new T.Vector3,bt=new T.Vector3,ce=new T.Vector3,le=new T.Vector3,He=new T.Vector3,Ii=new T.Vector3,Ei=new T.Vector3,W=new T.Spherical,Qt=new T.Spherical,ze=new T.Box3,pi=new T.Box3,UA=new T.Sphere,mi=new T.Quaternion,HA=new T.Quaternion,vA=new T.Matrix4,eA=new T.Raycaster}static get ACTION(){return b}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=b.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Ve.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new T.Vector3,this._focalOffsetVelocity=new T.Vector3,this._zoomVelocity={value:0},this._truckInternal=(B,C,p)=>{let I,m;if(Ue(this._camera)){const Q=G.copy(this._camera.position).sub(this._target),_=this._camera.getEffectiveFOV()*Et,y=Q.length()*Math.tan(_*.5);I=this.truckSpeed*B*y/this._elementRect.height,m=this.truckSpeed*C*y/this._elementRect.height}else if(Se(this._camera)){const Q=this._camera;I=B*(Q.right-Q.left)/Q.zoom/this._elementRect.width,m=C*(Q.top-Q.bottom)/Q.zoom/this._elementRect.height}else return;this.verticalDragToForward?(p?this.setFocalOffset(this._focalOffsetEnd.x+I,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(I,0,!0),this.forward(-m,!0)):p?this.setFocalOffset(this._focalOffsetEnd.x+I,this._focalOffsetEnd.y+m,this._focalOffsetEnd.z,!0):this.truck(I,m,!0)},this._rotateInternal=(B,C)=>{const p=Xe*this.azimuthRotateSpeed*B/this._elementRect.height,I=Xe*this.polarRotateSpeed*C/this._elementRect.height;this.rotate(p,I,!0)},this._dollyInternal=(B,C,p)=>{const I=Math.pow(.95,-B*this.dollySpeed),m=this._sphericalEnd.radius,Q=this._sphericalEnd.radius*I,_=ne(Q,this.minDistance,this.maxDistance),y=_-Q;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(Q,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(y,!0),this._dollyToNoClamp(_,!0)):this._dollyToNoClamp(_,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?Q:_)-m,this._dollyControlCoord.set(C,p)),this._lastDollyDirection=Math.sign(-B)},this._zoomInternal=(B,C,p)=>{const I=Math.pow(.95,B*this.dollySpeed),m=this._zoom,Q=this._zoom*I;this.zoomTo(Q,!0),this.dollyToCursor&&(this._changedZoom+=Q-m,this._dollyControlCoord.set(C,p))},typeof T>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new T.Quaternion().setFromUnitVectors(this._camera.up,$t),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=b.NONE,this._target=new T.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new T.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new T.Spherical().setFromVector3(G.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3],this._updateNearPlaneCorners(),this._boundary=new T.Box3(new T.Vector3(-1/0,-1/0,-1/0),new T.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new T.Vector2,this.mouseButtons={left:b.ROTATE,middle:b.DOLLY,right:b.TRUCK,wheel:Ue(this._camera)?b.DOLLY:Se(this._camera)?b.ZOOM:b.NONE},this.touches={one:b.TOUCH_ROTATE,two:Ue(this._camera)?b.TOUCH_DOLLY_TRUCK:Se(this._camera)?b.TOUCH_ZOOM_TRUCK:b.NONE,three:b.TOUCH_TRUCK};const s=new T.Vector2,i=new T.Vector2,n=new T.Vector2,a=B=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const I=this._domElement.getBoundingClientRect(),m=B.clientX/I.width,Q=B.clientY/I.height;if(m<this._interactiveArea.left||m>this._interactiveArea.right||Q<this._interactiveArea.top||Q>this._interactiveArea.bottom)return}const C=B.pointerType!=="mouse"?null:(B.buttons&v.LEFT)===v.LEFT?v.LEFT:(B.buttons&v.MIDDLE)===v.MIDDLE?v.MIDDLE:(B.buttons&v.RIGHT)===v.RIGHT?v.RIGHT:null;if(C!==null){const I=this._findPointerByMouseButton(C);I&&this._disposePointer(I)}if((B.buttons&v.LEFT)===v.LEFT&&this._lockedPointer)return;const p={pointerId:B.pointerId,clientX:B.clientX,clientY:B.clientY,deltaX:0,deltaY:0,mouseButton:C};this._activePointers.push(p),this._domElement.ownerDocument.removeEventListener("pointermove",r,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",o),this._domElement.ownerDocument.addEventListener("pointermove",r,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",o),this._isDragging=!0,g(B)},r=B=>{B.cancelable&&B.preventDefault();const C=B.pointerId,p=this._lockedPointer||this._findPointerById(C);if(p){if(p.clientX=B.clientX,p.clientY=B.clientY,p.deltaX=B.movementX,p.deltaY=B.movementY,this._state=0,B.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(B.buttons&v.LEFT)===v.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(B.buttons&v.MIDDLE)===v.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(B.buttons&v.RIGHT)===v.RIGHT&&(this._state=this._state|this.mouseButtons.right);d()}},o=B=>{const C=this._findPointerById(B.pointerId);if(!(C&&C===this._lockedPointer)){if(C&&this._disposePointer(C),B.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=b.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=b.NONE;u()}};let c=-1;const h=B=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===b.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const Q=this._domElement.getBoundingClientRect(),_=B.clientX/Q.width,y=B.clientY/Q.height;if(_<this._interactiveArea.left||_>this._interactiveArea.right||y<this._interactiveArea.top||y>this._interactiveArea.bottom)return}if(B.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===b.ROTATE||this.mouseButtons.wheel===b.TRUCK){const Q=performance.now();c-Q<1e3&&this._getClientRect(this._elementRect),c=Q}const C=Nr?-1:-3,p=B.deltaMode===1?B.deltaY/C:B.deltaY/(C*10),I=this.dollyToCursor?(B.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,m=this.dollyToCursor?(B.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case b.ROTATE:{this._rotateInternal(B.deltaX,B.deltaY),this._isUserControllingRotate=!0;break}case b.TRUCK:{this._truckInternal(B.deltaX,B.deltaY,!1),this._isUserControllingTruck=!0;break}case b.OFFSET:{this._truckInternal(B.deltaX,B.deltaY,!0),this._isUserControllingOffset=!0;break}case b.DOLLY:{this._dollyInternal(-p,I,m),this._isUserControllingDolly=!0;break}case b.ZOOM:{this._zoomInternal(-p,I,m),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},l=B=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===hs.ACTION.NONE){const C=B instanceof PointerEvent?B.pointerId:0,p=this._findPointerById(C);p&&this._disposePointer(p),this._domElement.ownerDocument.removeEventListener("pointermove",r,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",o);return}B.preventDefault()}},g=B=>{if(!this._enabled)return;if(xA(this._activePointers,q),this._getClientRect(this._elementRect),s.copy(q),i.copy(q),this._activePointers.length>=2){const p=q.x-this._activePointers[1].clientX,I=q.y-this._activePointers[1].clientY,m=Math.sqrt(p*p+I*I);n.set(0,m);const Q=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,_=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(Q,_)}if(this._state=0,!B)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in B&&B.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(B.buttons&v.LEFT)===v.LEFT&&(this._state=this._state|this.mouseButtons.left),(B.buttons&v.MIDDLE)===v.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(B.buttons&v.RIGHT)===v.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&b.ROTATE)===b.ROTATE||(this._state&b.TOUCH_ROTATE)===b.TOUCH_ROTATE||(this._state&b.TOUCH_DOLLY_ROTATE)===b.TOUCH_DOLLY_ROTATE||(this._state&b.TOUCH_ZOOM_ROTATE)===b.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&b.TRUCK)===b.TRUCK||(this._state&b.TOUCH_TRUCK)===b.TOUCH_TRUCK||(this._state&b.TOUCH_DOLLY_TRUCK)===b.TOUCH_DOLLY_TRUCK||(this._state&b.TOUCH_ZOOM_TRUCK)===b.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&b.DOLLY)===b.DOLLY||(this._state&b.TOUCH_DOLLY)===b.TOUCH_DOLLY||(this._state&b.TOUCH_DOLLY_TRUCK)===b.TOUCH_DOLLY_TRUCK||(this._state&b.TOUCH_DOLLY_OFFSET)===b.TOUCH_DOLLY_OFFSET||(this._state&b.TOUCH_DOLLY_ROTATE)===b.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&b.ZOOM)===b.ZOOM||(this._state&b.TOUCH_ZOOM)===b.TOUCH_ZOOM||(this._state&b.TOUCH_ZOOM_TRUCK)===b.TOUCH_ZOOM_TRUCK||(this._state&b.TOUCH_ZOOM_OFFSET)===b.TOUCH_ZOOM_OFFSET||(this._state&b.TOUCH_ZOOM_ROTATE)===b.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&b.OFFSET)===b.OFFSET||(this._state&b.TOUCH_OFFSET)===b.TOUCH_OFFSET||(this._state&b.TOUCH_DOLLY_OFFSET)===b.TOUCH_DOLLY_OFFSET||(this._state&b.TOUCH_ZOOM_OFFSET)===b.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},d=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,xA(this._activePointers,q);const C=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,p=C?-C.deltaX:i.x-q.x,I=C?-C.deltaY:i.y-q.y;if(i.copy(q),((this._state&b.ROTATE)===b.ROTATE||(this._state&b.TOUCH_ROTATE)===b.TOUCH_ROTATE||(this._state&b.TOUCH_DOLLY_ROTATE)===b.TOUCH_DOLLY_ROTATE||(this._state&b.TOUCH_ZOOM_ROTATE)===b.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(p,I),this._isUserControllingRotate=!0),(this._state&b.DOLLY)===b.DOLLY||(this._state&b.ZOOM)===b.ZOOM){const m=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,Q=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0,_=this.dollyDragInverted?-1:1;(this._state&b.DOLLY)===b.DOLLY?(this._dollyInternal(_*I*Zt,m,Q),this._isUserControllingDolly=!0):(this._zoomInternal(_*I*Zt,m,Q),this._isUserControllingZoom=!0)}if((this._state&b.TOUCH_DOLLY)===b.TOUCH_DOLLY||(this._state&b.TOUCH_ZOOM)===b.TOUCH_ZOOM||(this._state&b.TOUCH_DOLLY_TRUCK)===b.TOUCH_DOLLY_TRUCK||(this._state&b.TOUCH_ZOOM_TRUCK)===b.TOUCH_ZOOM_TRUCK||(this._state&b.TOUCH_DOLLY_OFFSET)===b.TOUCH_DOLLY_OFFSET||(this._state&b.TOUCH_ZOOM_OFFSET)===b.TOUCH_ZOOM_OFFSET||(this._state&b.TOUCH_DOLLY_ROTATE)===b.TOUCH_DOLLY_ROTATE||(this._state&b.TOUCH_ZOOM_ROTATE)===b.TOUCH_ZOOM_ROTATE){const m=q.x-this._activePointers[1].clientX,Q=q.y-this._activePointers[1].clientY,_=Math.sqrt(m*m+Q*Q),y=n.y-_;n.set(0,_);const D=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,L=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&b.TOUCH_DOLLY)===b.TOUCH_DOLLY||(this._state&b.TOUCH_DOLLY_ROTATE)===b.TOUCH_DOLLY_ROTATE||(this._state&b.TOUCH_DOLLY_TRUCK)===b.TOUCH_DOLLY_TRUCK||(this._state&b.TOUCH_DOLLY_OFFSET)===b.TOUCH_DOLLY_OFFSET?(this._dollyInternal(y*Zt,D,L),this._isUserControllingDolly=!0):(this._zoomInternal(y*Zt,D,L),this._isUserControllingZoom=!0)}((this._state&b.TRUCK)===b.TRUCK||(this._state&b.TOUCH_TRUCK)===b.TOUCH_TRUCK||(this._state&b.TOUCH_DOLLY_TRUCK)===b.TOUCH_DOLLY_TRUCK||(this._state&b.TOUCH_ZOOM_TRUCK)===b.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(p,I,!1),this._isUserControllingTruck=!0),((this._state&b.OFFSET)===b.OFFSET||(this._state&b.TOUCH_OFFSET)===b.TOUCH_OFFSET||(this._state&b.TOUCH_DOLLY_OFFSET)===b.TOUCH_DOLLY_OFFSET||(this._state&b.TOUCH_ZOOM_OFFSET)===b.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(p,I,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},u=()=>{xA(this._activePointers,q),i.copy(q),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",r,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",o),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",r,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",o),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",f),this._domElement.ownerDocument.addEventListener("pointerlockerror",E),this._domElement.ownerDocument.addEventListener("pointermove",r,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",o),g())},this.unlockPointer=()=>{var B,C,p;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(B=this._domElement)===null||B===void 0||B.ownerDocument.exitPointerLock(),(C=this._domElement)===null||C===void 0||C.ownerDocument.removeEventListener("pointerlockchange",f),(p=this._domElement)===null||p===void 0||p.ownerDocument.removeEventListener("pointerlockerror",E),this.cancel()};const f=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},E=()=>{this.unlockPointer()};this._addAllEventListeners=B=>{this._domElement=B,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",a),this._domElement.addEventListener("pointercancel",o),this._domElement.addEventListener("wheel",h,{passive:!1}),this._domElement.addEventListener("contextmenu",l)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("pointercancel",o),this._domElement.removeEventListener("wheel",h,{passive:!1}),this._domElement.removeEventListener("contextmenu",l),this._domElement.ownerDocument.removeEventListener("pointermove",r,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",o),this._domElement.ownerDocument.removeEventListener("pointerlockchange",f),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))},this.cancel=()=>{this._state!==b.NONE&&(this._state=b.NONE,this._activePointers.length=0,u())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=ne(e.width,0,1),this._interactiveArea.height=ne(e.height,0,1),this._interactiveArea.x=ne(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=ne(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,s=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,s)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,s=!1){this._isUserControllingRotate=!1;const i=ne(e,this.minAzimuthAngle,this.maxAzimuthAngle),n=ne(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=n,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,s||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const a=!s||k(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&k(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Ve.NONE,this._changedDolly=0,this._dollyToNoClamp(ne(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const s=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const a=this._collisionTest(),r=k(a,this._spherical.radius);if(!(s>e)&&r)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,a)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const n=!t||k(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(n)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(bt).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const s=!t||k(this._target.x,this._targetEnd.x,this.restThreshold)&&k(this._target.y,this._targetEnd.y,this.restThreshold)&&k(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=ne(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const s=!t||k(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(s)}pan(e,t,s=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,s)}truck(e,t,s=!1){this._camera.updateMatrix(),ce.setFromMatrixColumn(this._camera.matrix,0),le.setFromMatrixColumn(this._camera.matrix,1),ce.multiplyScalar(e),le.multiplyScalar(-t);const i=G.copy(ce).add(le),n=x.copy(this._targetEnd).add(i);return this.moveTo(n.x,n.y,n.z,s)}forward(e,t=!1){G.setFromMatrixColumn(this._camera.matrix,0),G.crossVectors(this._camera.up,G),G.multiplyScalar(e);const s=x.copy(this._targetEnd).add(G);return this.moveTo(s.x,s.y,s.z,t)}elevate(e,t=!1){return G.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+G.x,this._targetEnd.y+G.y,this._targetEnd.z+G.z,t)}moveTo(e,t,s,i=!1){this._isUserControllingTruck=!1;const n=G.set(e,t,s).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,n,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const a=!i||k(this._target.x,this._targetEnd.x,this.restThreshold)&&k(this._target.y,this._targetEnd.y,this.restThreshold)&&k(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}lookInDirectionOf(e,t,s,i=!1){const r=G.set(e,t,s).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(r.x,r.y,r.z,i)}fitToBox(e,t,{cover:s=!1,paddingLeft:i=0,paddingRight:n=0,paddingBottom:a=0,paddingTop:r=0}={}){const o=[],c=e.isBox3?ze.copy(e):ze.setFromObject(e);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const h=ui(this._sphericalEnd.theta,Bi),l=ui(this._sphericalEnd.phi,Bi);o.push(this.rotateTo(h,l,t));const g=G.setFromSpherical(this._sphericalEnd).normalize(),d=mi.setFromUnitVectors(g,OA),u=k(Math.abs(g.y),1);u&&d.multiply(HA.setFromAxisAngle($t,h)),d.multiply(this._yAxisUpSpaceInverse);const f=pi.makeEmpty();x.copy(c.min).applyQuaternion(d),f.expandByPoint(x),x.copy(c.min).setX(c.max.x).applyQuaternion(d),f.expandByPoint(x),x.copy(c.min).setY(c.max.y).applyQuaternion(d),f.expandByPoint(x),x.copy(c.max).setZ(c.min.z).applyQuaternion(d),f.expandByPoint(x),x.copy(c.min).setZ(c.max.z).applyQuaternion(d),f.expandByPoint(x),x.copy(c.max).setY(c.min.y).applyQuaternion(d),f.expandByPoint(x),x.copy(c.max).setX(c.min.x).applyQuaternion(d),f.expandByPoint(x),x.copy(c.max).applyQuaternion(d),f.expandByPoint(x),f.min.x-=i,f.min.y-=a,f.max.x+=n,f.max.y+=r,d.setFromUnitVectors(OA,g),u&&d.premultiply(HA.invert()),d.premultiply(this._yAxisUpSpace);const E=f.getSize(G),B=f.getCenter(x).applyQuaternion(d);if(Ue(this._camera)){const C=this.getDistanceToFitBox(E.x,E.y,E.z,s);o.push(this.moveTo(B.x,B.y,B.z,t)),o.push(this.dollyTo(C,t)),o.push(this.setFocalOffset(0,0,0,t))}else if(Se(this._camera)){const C=this._camera,p=C.right-C.left,I=C.top-C.bottom,m=s?Math.max(p/E.x,I/E.y):Math.min(p/E.x,I/E.y);o.push(this.moveTo(B.x,B.y,B.z,t)),o.push(this.zoomTo(m,t)),o.push(this.setFocalOffset(0,0,0,t))}return Promise.all(o)}fitToSphere(e,t){const s=[],n="isObject3D"in e?hs.createBoundingSphere(e,UA):UA.copy(e);if(s.push(this.moveTo(n.center.x,n.center.y,n.center.z,t)),Ue(this._camera)){const a=this.getDistanceToFitSphere(n.radius);s.push(this.dollyTo(a,t))}else if(Se(this._camera)){const a=this._camera.right-this._camera.left,r=this._camera.top-this._camera.bottom,o=2*n.radius,c=Math.min(a/o,r/o);s.push(this.zoomTo(c,t))}return s.push(this.setFocalOffset(0,0,0,t)),Promise.all(s)}setLookAt(e,t,s,i,n,a,r=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Ve.NONE,this._changedDolly=0;const o=x.set(i,n,a),c=G.set(e,t,s);this._targetEnd.copy(o),this._sphericalEnd.setFromVector3(c.sub(o).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,r||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!r||k(this._target.x,this._targetEnd.x,this.restThreshold)&&k(this._target.y,this._targetEnd.y,this.restThreshold)&&k(this._target.z,this._targetEnd.z,this.restThreshold)&&k(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&k(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&k(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(e,t,s,i,n,a,r,o,c,h,l,g,d,u=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Ve.NONE,this._changedDolly=0;const f=G.set(i,n,a),E=x.set(e,t,s);W.setFromVector3(E.sub(f).applyQuaternion(this._yAxisUpSpace));const B=We.set(h,l,g),C=x.set(r,o,c);Qt.setFromVector3(C.sub(B).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(f.lerp(B,d));const p=Qt.theta-W.theta,I=Qt.phi-W.phi,m=Qt.radius-W.radius;this._sphericalEnd.set(W.radius+m*d,W.phi+I*d,W.theta+p*d),this.normalizeRotations(),this._needsUpdate=!0,u||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const Q=!u||k(this._target.x,this._targetEnd.x,this.restThreshold)&&k(this._target.y,this._targetEnd.y,this.restThreshold)&&k(this._target.z,this._targetEnd.z,this.restThreshold)&&k(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&k(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&k(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(Q)}setPosition(e,t,s,i=!1){return this.setLookAt(e,t,s,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,t,s,i=!1){const n=this.getPosition(G),a=this.setLookAt(n.x,n.y,n.z,e,t,s,i);return this._sphericalEnd.phi=ne(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),a}setFocalOffset(e,t,s,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,s),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const n=!i||k(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&k(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&k(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}setOrbitPoint(e,t,s){this._camera.updateMatrixWorld(),ce.setFromMatrixColumn(this._camera.matrixWorldInverse,0),le.setFromMatrixColumn(this._camera.matrixWorldInverse,1),He.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=G.set(e,t,s),n=i.distanceTo(this._camera.position),a=i.sub(this._camera.position);ce.multiplyScalar(a.x),le.multiplyScalar(a.y),He.multiplyScalar(a.z),G.copy(ce).add(le).add(He),G.z=G.z+n,this.dollyTo(n,!1),this.setFocalOffset(-G.x,G.y,-G.z,!1),this.moveTo(e,t,s,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,s,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new T.Vector4,typeof e=="number"?this._viewport.set(e,t,s,i):this._viewport.copy(e)}getDistanceToFitBox(e,t,s,i=!1){if(LA(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const n=e/t,a=this._camera.getEffectiveFOV()*Et,r=this._camera.aspect;return((i?n>r:n<r)?t:e/r)*.5/Math.tan(a*.5)+s*.5}getDistanceToFitSphere(e){if(LA(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*Et,s=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?t:s;return e/Math.sin(i*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new T.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new T.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new T.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new T.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Xe,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Xe),this._spherical.theta+=Xe*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Xe)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!k(this._camera.up.x,this._cameraUp0.x)||!k(this._camera.up.y,this._cameraUp0.y)||!k(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const s=this.getPosition(G);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,$t),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=G.subVectors(this._target,this._camera.position).normalize(),t=x.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const s=this.getPosition(G);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,s=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,n=Ii.subVectors(this._targetEnd,this._target),a=Ei.subVectors(this._focalOffsetEnd,this._focalOffset),r=this._zoomEnd-this._zoom;if(H(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const l=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=zt(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,l,1/0,e),this._needsUpdate=!0}if(H(s))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const l=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=zt(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,l,1/0,e),this._needsUpdate=!0}if(H(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const l=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=zt(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,l,this.maxSpeed,e),this._needsUpdate=!0}if(H(n.x)&&H(n.y)&&H(n.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const l=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;fi(this._target,this._targetEnd,this._targetVelocity,l,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(H(a.x)&&H(a.y)&&H(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const l=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;fi(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,l,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(H(r))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const l=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=zt(this._zoom,this._zoomEnd,this._zoomVelocity,l,1/0,e)}if(this.dollyToCursor){if(Ue(this._camera)&&this._changedDolly!==0){const l=this._spherical.radius-this._lastDistance,g=this._camera,d=this._getCameraDirection(bt),u=G.copy(d).cross(g.up).normalize();u.lengthSq()===0&&(u.x=1);const f=x.crossVectors(u,d),E=this._sphericalEnd.radius*Math.tan(g.getEffectiveFOV()*Et*.5),C=(this._sphericalEnd.radius-l-this._sphericalEnd.radius)/this._sphericalEnd.radius,p=We.copy(this._targetEnd).add(u.multiplyScalar(this._dollyControlCoord.x*E*g.aspect)).add(f.multiplyScalar(this._dollyControlCoord.y*E)),I=G.copy(this._targetEnd).lerp(p,C),m=this._lastDollyDirection===Ve.IN&&this._spherical.radius<=this.minDistance,Q=this._lastDollyDirection===Ve.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(m||Q)){this._sphericalEnd.radius-=l,this._spherical.radius-=l;const y=x.copy(d).multiplyScalar(-l);I.add(y)}this._boundary.clampPoint(I,I);const _=x.subVectors(I,this._targetEnd);this._targetEnd.copy(I),this._target.add(_),this._changedDolly-=l,H(this._changedDolly)&&(this._changedDolly=0)}else if(Se(this._camera)&&this._changedZoom!==0){const l=this._zoom-this._lastZoom,g=this._camera,d=G.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(g.near+g.far)/(g.near-g.far)).unproject(g),u=x.set(0,0,-1).applyQuaternion(g.quaternion),f=We.copy(d).add(u.multiplyScalar(-d.dot(g.up))),B=-(this._zoom-l-this._zoom)/this._zoom,C=this._getCameraDirection(bt),p=this._targetEnd.dot(C),I=G.copy(this._targetEnd).lerp(f,B),m=I.dot(C),Q=C.multiplyScalar(m-p);I.sub(Q),this._boundary.clampPoint(I,I);const _=x.subVectors(I,this._targetEnd);this._targetEnd.copy(I),this._target.add(_),this._changedZoom-=l,H(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const o=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,o),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!H(this._focalOffset.x)||!H(this._focalOffset.y)||!H(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),ce.setFromMatrixColumn(this._camera.matrix,0),le.setFromMatrixColumn(this._camera.matrix,1),He.setFromMatrixColumn(this._camera.matrix,2),ce.multiplyScalar(this._focalOffset.x),le.multiplyScalar(-this._focalOffset.y),He.multiplyScalar(this._focalOffset.z),G.copy(ce).add(le).add(He),this._camera.position.add(G)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),G.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const h=this._needsUpdate;return h&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):h?(this.dispatchEvent({type:"update"}),H(t,this.restThreshold)&&H(s,this.restThreshold)&&H(i,this.restThreshold)&&H(n.x,this.restThreshold)&&H(n.y,this.restThreshold)&&H(n.z,this.restThreshold)&&H(a.x,this.restThreshold)&&H(a.y,this.restThreshold)&&H(a.z,this.restThreshold)&&H(r,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!h&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=h,this._needsUpdate=!1,h}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:pt(this.maxDistance),minZoom:this.minZoom,maxZoom:pt(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:pt(this.maxPolarAngle),minAzimuthAngle:pt(this.minAzimuthAngle),maxAzimuthAngle:pt(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:G.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const s=JSON.parse(e);this.enabled=s.enabled,this.minDistance=s.minDistance,this.maxDistance=mt(s.maxDistance),this.minZoom=s.minZoom,this.maxZoom=mt(s.maxZoom),this.minPolarAngle=s.minPolarAngle,this.maxPolarAngle=mt(s.maxPolarAngle),this.minAzimuthAngle=mt(s.minAzimuthAngle),this.maxAzimuthAngle=mt(s.maxAzimuthAngle),this.smoothTime=s.smoothTime,this.draggingSmoothTime=s.draggingSmoothTime,this.dollySpeed=s.dollySpeed,this.truckSpeed=s.truckSpeed,this.dollyToCursor=s.dollyToCursor,this.verticalDragToForward=s.verticalDragToForward,this._target0.fromArray(s.target0),this._position0.fromArray(s.position0),this._zoom0=s.zoom0,this._focalOffset0.fromArray(s.focalOffset0),this.moveTo(s.target[0],s.target[1],s.target[2],t),W.setFromVector3(G.fromArray(s.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(W.theta,W.phi,t),this.dollyTo(W.radius,t),this.zoomTo(s.zoom,t),this.setFocalOffset(s.focalOffset[0],s.focalOffset[1],s.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",vr),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,s){const i=t.lengthSq();if(i===0)return e;const n=x.copy(t).add(e),r=this._boundary.clampPoint(n,We).sub(n),o=r.lengthSq();if(o===0)return e.add(t);if(o===i)return e;if(s===0)return e.add(t).add(r);{const c=1+s*o/t.dot(r);return e.add(x.copy(t).multiplyScalar(c)).add(r.multiplyScalar(1-s))}}_updateNearPlaneCorners(){if(Ue(this._camera)){const e=this._camera,t=e.near,s=e.getEffectiveFOV()*Et,i=Math.tan(s*.5)*t,n=i*e.aspect;this._nearPlaneCorners[0].set(-n,-i,0),this._nearPlaneCorners[1].set(n,-i,0),this._nearPlaneCorners[2].set(n,i,0),this._nearPlaneCorners[3].set(-n,i,0)}else if(Se(this._camera)){const e=this._camera,t=1/e.zoom,s=e.left*t,i=e.right*t,n=e.top*t,a=e.bottom*t;this._nearPlaneCorners[0].set(s,n,0),this._nearPlaneCorners[1].set(i,n,0),this._nearPlaneCorners[2].set(i,a,0),this._nearPlaneCorners[3].set(s,a,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||LA(this._camera,"_collisionTest"))return e;const s=this._getTargetDirection(bt);vA.lookAt(Ci,s,this._camera.up);for(let i=0;i<4;i++){const n=x.copy(this._nearPlaneCorners[i]);n.applyMatrix4(vA);const a=We.addVectors(this._target,n);eA.set(a,s),eA.far=this._spherical.radius+1;const r=eA.intersectObjects(this.colliderMeshes);r.length!==0&&r[0].distance<e&&(e=r[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const s=()=>{this.removeEventListener("rest",s),t()};this.addEventListener("rest",s)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new T.Sphere){const s=t,i=s.center;ze.makeEmpty(),e.traverseVisible(a=>{a.isMesh&&ze.expandByObject(a)}),ze.getCenter(i);let n=0;return e.traverseVisible(a=>{if(!a.isMesh)return;const r=a,o=r.geometry.clone();o.applyMatrix4(r.matrixWorld);const h=o.attributes.position;for(let l=0,g=h.count;l<g;l++)G.fromBufferAttribute(h,l),n=Math.max(n,i.distanceToSquared(G))}),s.radius=Math.sqrt(n),s}};const gl=M.forwardRef((A,e)=>{M.useMemo(()=>{const m={Box3:Es,MathUtils:{clamp:Is.clamp},Matrix4:se,Quaternion:ht,Raycaster:ba,Sphere:ps,Spherical:ma,Vector2:Pt,Vector3:j,Vector4:pa};NA.install({THREE:m}),Qa({CameraControlsImpl:NA})},[]);const{camera:t,domElement:s,makeDefault:i,onStart:n,onEnd:a,onChange:r,regress:o,...c}=A,h=he(m=>m.camera),l=he(m=>m.gl),g=he(m=>m.invalidate),d=he(m=>m.events),u=he(m=>m.setEvents),f=he(m=>m.set),E=he(m=>m.get),B=he(m=>m.performance),C=t||h,p=s||d.connected||l.domElement,I=M.useMemo(()=>new NA(C),[C]);return _a((m,Q)=>{I.enabled&&I.update(Q)},-1),M.useEffect(()=>(I.connect(p),()=>void I.disconnect()),[p,I]),M.useEffect(()=>{const m=y=>{g(),o&&B.regress(),r&&r(y)},Q=y=>{n&&n(y)},_=y=>{a&&a(y)};return I.addEventListener("update",m),I.addEventListener("controlstart",Q),I.addEventListener("controlend",_),I.addEventListener("control",m),I.addEventListener("transitionstart",m),I.addEventListener("wake",m),()=>{I.removeEventListener("update",m),I.removeEventListener("controlstart",Q),I.removeEventListener("controlend",_),I.removeEventListener("control",m),I.removeEventListener("transitionstart",m),I.removeEventListener("wake",m)}},[I,n,a,g,u,o,r]),M.useEffect(()=>{if(i){const m=E().controls;return f({controls:I}),()=>f({controls:m})}},[i,I]),M.createElement("primitive",Fa({ref:e,object:I},c))});class Pr{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const s=this.workersResolve[e];if(s&&s(t),this.queue.length){const{resolve:i,msg:n,transfer:a}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(n,a)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(s=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=s,this.workers[i].postMessage(e,t)):this.queue.push({resolve:s,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Jr=0,bi=2,Kr=1,Qi=2,jr=0,qr=1,Yr=10,Vr=0,Wn=9,zn=15,Zn=16,$n=22,ea=37,ta=43,Aa=76,sa=83,ia=97,na=100,aa=103,oa=109,ra=165,ca=166,Us=1000066e3;class Xr{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class _t{constructor(e,t,s,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,s),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint8Array(e){const t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,e);return this._offset+=e,t}_skip(e){return this._offset+=e,this}_scan(e,t){t===void 0&&(t=0);const s=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==t&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+s,i)}}const K=[171,75,84,88,32,50,48,187,13,10,26,10];function _i(A){return new TextDecoder().decode(A)}function Wr(A){const e=new Uint8Array(A.buffer,A.byteOffset,K.length);if(e[0]!==K[0]||e[1]!==K[1]||e[2]!==K[2]||e[3]!==K[3]||e[4]!==K[4]||e[5]!==K[5]||e[6]!==K[6]||e[7]!==K[7]||e[8]!==K[8]||e[9]!==K[9]||e[10]!==K[10]||e[11]!==K[11])throw new Error("Missing KTX 2.0 identifier.");const t=new Xr,s=17*Uint32Array.BYTES_PER_ELEMENT,i=new _t(A,K.length,s,!0);t.vkFormat=i._nextUint32(),t.typeSize=i._nextUint32(),t.pixelWidth=i._nextUint32(),t.pixelHeight=i._nextUint32(),t.pixelDepth=i._nextUint32(),t.layerCount=i._nextUint32(),t.faceCount=i._nextUint32();const n=i._nextUint32();t.supercompressionScheme=i._nextUint32();const a=i._nextUint32(),r=i._nextUint32(),o=i._nextUint32(),c=i._nextUint32(),h=i._nextUint64(),l=i._nextUint64(),g=new _t(A,K.length+s,3*n*8,!0);for(let J=0;J<n;J++)t.levels.push({levelData:new Uint8Array(A.buffer,A.byteOffset+g._nextUint64(),g._nextUint64()),uncompressedByteLength:g._nextUint64()});const d=new _t(A,a,r,!0),u={vendorId:d._skip(4)._nextUint16(),descriptorType:d._nextUint16(),versionNumber:d._nextUint16(),descriptorBlockSize:d._nextUint16(),colorModel:d._nextUint8(),colorPrimaries:d._nextUint8(),transferFunction:d._nextUint8(),flags:d._nextUint8(),texelBlockDimension:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],bytesPlane:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],samples:[]},f=(u.descriptorBlockSize/4-6)/4;for(let J=0;J<f;J++){const X={bitOffset:d._nextUint16(),bitLength:d._nextUint8(),channelType:d._nextUint8(),samplePosition:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&X.channelType?(X.sampleLower=d._nextInt32(),X.sampleUpper=d._nextInt32()):(X.sampleLower=d._nextUint32(),X.sampleUpper=d._nextUint32()),u.samples[J]=X}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(u);const E=new _t(A,o,c,!0);for(;E._offset<c;){const J=E._nextUint32(),X=E._scan(J),Te=_i(X);if(t.keyValue[Te]=E._nextUint8Array(J-X.byteLength-1),Te.match(/^ktx/i)){const Bt=_i(t.keyValue[Te]);t.keyValue[Te]=Bt.substring(0,Bt.lastIndexOf("\0"))}E._skip(J%4?4-J%4:0)}if(l<=0)return t;const B=new _t(A,h,l,!0),C=B._nextUint16(),p=B._nextUint16(),I=B._nextUint32(),m=B._nextUint32(),Q=B._nextUint32(),_=B._nextUint32(),y=[];for(let J=0;J<n;J++)y.push({imageFlags:B._nextUint32(),rgbSliceByteOffset:B._nextUint32(),rgbSliceByteLength:B._nextUint32(),alphaSliceByteOffset:B._nextUint32(),alphaSliceByteLength:B._nextUint32()});const D=h+B._offset,L=D+I,U=L+m,P=U+Q,V=new Uint8Array(A.buffer,A.byteOffset+D,I),ie=new Uint8Array(A.buffer,A.byteOffset+L,m),De=new Uint8Array(A.buffer,A.byteOffset+U,Q),ye=new Uint8Array(A.buffer,A.byteOffset+P,_);return t.globalData={endpointCount:C,selectorCount:p,imageDescs:y,endpointsData:V,selectorsData:ie,tablesData:De,extendedData:ye},t}let PA,Ie,gs;const JA={env:{emscripten_notify_memory_growth:function(A){gs=new Uint8Array(Ie.exports.memory.buffer)}}};class zr{init(){return PA||(PA=typeof fetch<"u"?fetch("data:application/wasm;base64,"+Fi).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,JA)).then(this._init):WebAssembly.instantiate(Buffer.from(Fi,"base64"),JA).then(this._init),PA)}_init(e){Ie=e.instance,JA.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!Ie)throw new Error("ZSTDDecoder: Await .init() before decoding.");const s=e.byteLength,i=Ie.exports.malloc(s);gs.set(e,i),t=t||Number(Ie.exports.ZSTD_findDecompressedSize(i,s));const n=Ie.exports.malloc(t),a=Ie.exports.ZSTD_decompress(n,t,i,s),r=gs.slice(n,n+a);return Ie.exports.free(i),Ie.exports.free(n),r}}const Fi="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",Zr="display-p3",$r="display-p3-linear",KA=new WeakMap;let jA=0,qA;class te extends gA{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Pr,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}async detectSupportAsync(e){return this.workerConfig={astcSupported:await e.hasFeatureAsync("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:await e.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await e.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await e.hasFeatureAsync("texture-compression-bc"),bptcSupported:await e.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await e.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(e){return e.isWebGPURenderer===!0?this.workerConfig={astcSupported:e.hasFeature("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:e.hasFeature("texture-compression-etc1"),etc2Supported:e.hasFeature("texture-compression-etc2"),dxtSupported:e.hasFeature("texture-compression-bc"),bptcSupported:e.hasFeature("texture-compression-bptc"),pvrtcSupported:e.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),astcHDRSupported:e.extensions.has("WEBGL_compressed_texture_astc")&&e.extensions.get("WEBGL_compressed_texture_astc").getSupportedProfiles().includes("hdr"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const e=new be(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const t=e.loadAsync("basis_transcoder.js"),s=new be(this.manager);s.setPath(this.transcoderPath),s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials);const i=s.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([t,i]).then(([n,a])=>{const r=te.BasisWorker.toString(),o=["/* constants */","let _EngineFormat = "+JSON.stringify(te.EngineFormat),"let _EngineType = "+JSON.stringify(te.EngineType),"let _TranscoderFormat = "+JSON.stringify(te.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(te.BasisFormat),"/* basis_transcoder.js */",n,"/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o])),this.transcoderBinary=a,this.workerPool.setWorkerCreator(()=>{const c=new Worker(this.workerSourceURL),h=this.transcoderBinary.slice(0);return c.postMessage({type:"init",config:this.workerConfig,transcoderBinary:h},[h]),c})}),jA>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),jA++}return this.transcoderPending}load(e,t,s,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const n=new be(this.manager);n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials),n.load(e,a=>{this.parse(a,t,i)},s,i)}parse(e,t,s){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(KA.has(e))return KA.get(e).promise.then(t).catch(s);this._createTexture(e).then(i=>t?t(i):null).catch(s)}_createTextureFrom(e,t){const{type:s,error:i,data:{faces:n,width:a,height:r,format:o,type:c,dfdFlags:h}}=e;if(s==="error")return Promise.reject(i);let l;if(t.faceCount===6)l=new Da(n,o,c);else{const g=n[0].mipmaps;l=t.layerCount>1?new ya(g,a,r,t.layerCount,o,c):new cn(g,a,r,o,c)}return l.minFilter=n[0].mipmaps.length===1?_e:gt,l.magFilter=_e,l.generateMipmaps=!1,l.needsUpdate=!0,l.colorSpace=la(t),l.premultiplyAlpha=!!(h&Kr),l}async _createTexture(e,t={}){const s=Wr(new Uint8Array(e)),i=s.vkFormat===Us&&s.dataFormatDescriptor[0].colorModel===167;if(!(s.vkFormat===Vr||i&&!this.workerConfig.astcHDRSupported))return tc(s);const a=t,r=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:a},[e])).then(o=>this._createTextureFrom(o.data,s));return KA.set(e,{promise:r}),r}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),jA--,this}}te.BasisFormat={ETC1S:0,UASTC:1,UASTC_HDR:2};te.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16,BC6H:22,RGB_HALF:24,RGBA_HALF:25};te.EngineFormat={RGBAFormat:Ze,RGBA_ASTC_4x4_Format:ln,RGB_BPTC_UNSIGNED_Format:Ua,RGBA_BPTC_Format:Oa,RGBA_ETC2_EAC_Format:ka,RGBA_PVRTC_4BPPV1_Format:La,RGBA_S3TC_DXT5_Format:xa,RGB_ETC1_Format:Ma,RGB_ETC2_Format:Sa,RGB_PVRTC_4BPPV1_Format:wa,RGBA_S3TC_DXT1_Format:Ga};te.EngineType={UnsignedByteType:Ce,HalfFloatType:$e,FloatType:Rt};te.BasisWorker=function(){let A,e,t;const s=_EngineFormat,i=_EngineType,n=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",function(u){const f=u.data;switch(f.type){case"init":A=f.config,r(f.transcoderBinary);break;case"transcode":e.then(()=>{try{const{faces:E,buffers:B,width:C,height:p,hasAlpha:I,format:m,type:Q,dfdFlags:_}=o(f.buffer);self.postMessage({type:"transcode",id:f.id,data:{faces:E,width:C,height:p,hasAlpha:I,format:m,type:Q,dfdFlags:_}},B)}catch(E){console.error(E),self.postMessage({type:"error",id:f.id,error:E.message})}});break}});function r(u){e=new Promise(f=>{t={wasmBinary:u,onRuntimeInitialized:f},BASIS(t)}).then(()=>{t.initializeBasis(),t.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function o(u){const f=new t.KTX2File(new Uint8Array(u));function E(){f.close(),f.delete()}if(!f.isValid())throw E(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");let B;if(f.isUASTC())B=a.UASTC;else if(f.isETC1S())B=a.ETC1S;else if(f.isHDR())B=a.UASTC_HDR;else throw new Error("THREE.KTX2Loader: Unknown Basis encoding");const C=f.getWidth(),p=f.getHeight(),I=f.getLayers()||1,m=f.getLevels(),Q=f.getFaces(),_=f.getHasAlpha(),y=f.getDFDFlags(),{transcoderFormat:D,engineFormat:L,engineType:U}=l(B,C,p,_);if(!C||!p||!m)throw E(),new Error("THREE.KTX2Loader:	Invalid texture");if(!f.startTranscoding())throw E(),new Error("THREE.KTX2Loader: .startTranscoding failed");const P=[],V=[];for(let ie=0;ie<Q;ie++){const De=[];for(let ye=0;ye<m;ye++){const J=[];let X,Te;for(let Ke=0;Ke<I;Ke++){const je=f.getImageLevelInfo(ye,Ke,ie);ie===0&&ye===0&&Ke===0&&(je.origWidth%4!==0||je.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),m>1?(X=je.origWidth,Te=je.origHeight):(X=je.width,Te=je.height);let qe=new Uint8Array(f.getImageTranscodedSizeInBytes(ye,Ke,0,D));const da=f.transcodeImage(qe,ye,Ke,ie,D,0,-1,-1);if(U===i.HalfFloatType&&(qe=new Uint16Array(qe.buffer,qe.byteOffset,qe.byteLength/Uint16Array.BYTES_PER_ELEMENT)),!da)throw E(),new Error("THREE.KTX2Loader: .transcodeImage failed.");J.push(qe)}const Bt=d(J);De.push({data:Bt,width:X,height:Te}),V.push(Bt.buffer)}P.push({mipmaps:De,width:C,height:p,format:L,type:U})}return E(),{faces:P,buffers:V,width:C,height:p,hasAlpha:_,dfdFlags:y,format:L,type:U}}const c=[{if:"astcSupported",basisFormat:[a.UASTC],transcoderFormat:[n.ASTC_4x4,n.ASTC_4x4],engineFormat:[s.RGBA_ASTC_4x4_Format,s.RGBA_ASTC_4x4_Format],engineType:[i.UnsignedByteType],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[n.BC7_M5,n.BC7_M5],engineFormat:[s.RGBA_BPTC_Format,s.RGBA_BPTC_Format],engineType:[i.UnsignedByteType],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[n.BC1,n.BC3],engineFormat:[s.RGBA_S3TC_DXT1_Format,s.RGBA_S3TC_DXT5_Format],engineType:[i.UnsignedByteType],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[n.ETC1,n.ETC2],engineFormat:[s.RGB_ETC2_Format,s.RGBA_ETC2_EAC_Format],engineType:[i.UnsignedByteType],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[n.ETC1],engineFormat:[s.RGB_ETC1_Format],engineType:[i.UnsignedByteType],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[n.PVRTC1_4_RGB,n.PVRTC1_4_RGBA],engineFormat:[s.RGB_PVRTC_4BPPV1_Format,s.RGBA_PVRTC_4BPPV1_Format],engineType:[i.UnsignedByteType],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0},{if:"bptcSupported",basisFormat:[a.UASTC_HDR],transcoderFormat:[n.BC6H],engineFormat:[s.RGB_BPTC_UNSIGNED_Format],engineType:[i.HalfFloatType],priorityHDR:1,needsPowerOfTwo:!1},{basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[n.RGBA32,n.RGBA32],engineFormat:[s.RGBAFormat,s.RGBAFormat],engineType:[i.UnsignedByteType,i.UnsignedByteType],priorityETC1S:100,priorityUASTC:100,needsPowerOfTwo:!1},{basisFormat:[a.UASTC_HDR],transcoderFormat:[n.RGBA_HALF],engineFormat:[s.RGBAFormat],engineType:[i.HalfFloatType],priorityHDR:100,needsPowerOfTwo:!1}],h={[a.ETC1S]:c.filter(u=>u.basisFormat.includes(a.ETC1S)).sort((u,f)=>u.priorityUASTC-f.priorityUASTC),[a.UASTC]:c.filter(u=>u.basisFormat.includes(a.UASTC)).sort((u,f)=>u.priorityUASTC-f.priorityUASTC),[a.UASTC_HDR]:c.filter(u=>u.basisFormat.includes(a.UASTC_HDR)).sort((u,f)=>u.priorityHDR-f.priorityHDR)};function l(u,f,E,B){const C=h[u];for(let p=0;p<C.length;p++){const I=C[p];if(I.if&&!A[I.if]||!I.basisFormat.includes(u)||B&&I.transcoderFormat.length<2||I.needsPowerOfTwo&&!(g(f)&&g(E)))continue;const m=I.transcoderFormat[B?1:0],Q=I.engineFormat[B?1:0],_=I.engineType[0];return{transcoderFormat:m,engineFormat:Q,engineType:_}}throw new Error("THREE.KTX2Loader: Failed to identify transcoding target.")}function g(u){return u<=2?!0:(u&u-1)===0&&u!==0}function d(u){if(u.length===1)return u[0];let f=0;for(let C=0;C<u.length;C++){const p=u[C];f+=p.byteLength}const E=new Uint8Array(f);let B=0;for(let C=0;C<u.length;C++){const p=u[C];E.set(p,B),B+=p.byteLength}return E}};const ec=new Set([Ze,yt,Dt]),YA={[oa]:Ze,[ia]:Ze,[ea]:Ze,[ta]:Ze,[aa]:yt,[sa]:yt,[Zn]:yt,[$n]:yt,[na]:Dt,[Aa]:Dt,[zn]:Dt,[Wn]:Dt,[Us]:ln,[ca]:vs,[ra]:vs},VA={[oa]:Rt,[ia]:$e,[ea]:Ce,[ta]:Ce,[aa]:Rt,[sa]:$e,[Zn]:Ce,[$n]:Ce,[na]:Rt,[Aa]:$e,[zn]:Ce,[Wn]:Ce,[Us]:$e,[ca]:Ce,[ra]:Ce};async function tc(A){const{vkFormat:e}=A;if(YA[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let t;A.supercompressionScheme===bi&&(qA||(qA=new Promise(async n=>{const a=new zr;await a.init(),n(a)})),t=await qA);const s=[];for(let n=0;n<A.levels.length;n++){const a=Math.max(1,A.pixelWidth>>n),r=Math.max(1,A.pixelHeight>>n),o=A.pixelDepth?Math.max(1,A.pixelDepth>>n):0,c=A.levels[n];let h;if(A.supercompressionScheme===Jr)h=c.levelData;else if(A.supercompressionScheme===bi)h=t.decode(c.levelData,c.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let l;VA[e]===Rt?l=new Float32Array(h.buffer,h.byteOffset,h.byteLength/Float32Array.BYTES_PER_ELEMENT):VA[e]===$e?l=new Uint16Array(h.buffer,h.byteOffset,h.byteLength/Uint16Array.BYTES_PER_ELEMENT):l=h,s.push({data:l,width:a,height:r,depth:o})}let i;if(ec.has(YA[e]))i=A.pixelDepth===0?new Ta(s[0].data,A.pixelWidth,A.pixelHeight):new Ra(s[0].data,A.pixelWidth,A.pixelHeight,A.pixelDepth);else{if(A.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");i=new cn(s,A.pixelWidth,A.pixelHeight),i.minFilter=s.length===1?_e:gt,i.magFilter=_e}return i.mipmaps=s,i.type=VA[e],i.format=YA[e],i.colorSpace=la(A),i.needsUpdate=!0,Promise.resolve(i)}function la(A){const e=A.dataFormatDescriptor[0];return e.colorPrimaries===qr?e.transferFunction===Qi?ct:fe:e.colorPrimaries===Yr?e.transferFunction===Qi?Zr:$r:e.colorPrimaries===jr?Hs:(console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${e.colorPrimaries}"`),Hs)}function Di(A,e){if(e===wi)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),A;if(e===at||e===hA){let t=A.getIndex();if(t===null){const a=[],r=A.getAttribute("position");if(r!==void 0){for(let o=0;o<r.count;o++)a.push(o);A.setIndex(a),t=A.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),A}const s=t.count-2,i=[];if(e===at)for(let a=1;a<=s;a++)i.push(t.getX(0)),i.push(t.getX(a)),i.push(t.getX(a+1));else for(let a=0;a<s;a++)a%2===0?(i.push(t.getX(a)),i.push(t.getX(a+1)),i.push(t.getX(a+2))):(i.push(t.getX(a+2)),i.push(t.getX(a+1)),i.push(t.getX(a)));i.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const n=A.clone();return n.setIndex(i),n.clearGroups(),n}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),A}class dl extends gA{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ac(t)}),this.register(function(t){return new oc(t)}),this.register(function(t){return new fc(t)}),this.register(function(t){return new Cc(t)}),this.register(function(t){return new Ic(t)}),this.register(function(t){return new cc(t)}),this.register(function(t){return new lc(t)}),this.register(function(t){return new hc(t)}),this.register(function(t){return new gc(t)}),this.register(function(t){return new nc(t)}),this.register(function(t){return new dc(t)}),this.register(function(t){return new rc(t)}),this.register(function(t){return new uc(t)}),this.register(function(t){return new Bc(t)}),this.register(function(t){return new sc(t)}),this.register(function(t){return new Ec(t)}),this.register(function(t){return new pc(t)})}load(e,t,s,i){const n=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=ue.extractUrlBase(e);a=ue.resolveURL(c,this.path)}else a=ue.extractUrlBase(e);this.manager.itemStart(e);const r=function(c){i?i(c):console.error(c),n.manager.itemError(e),n.manager.itemEnd(e)},o=new be(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{n.parse(c,a,function(h){t(h),n.manager.itemEnd(e)},r)}catch(h){r(h)}},s,r)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,i){let n;const a={},r={},o=new TextDecoder;if(typeof e=="string")n=JSON.parse(e);else if(e instanceof ArrayBuffer)if(o.decode(new Uint8Array(e,0,4))===ha){try{a[S.KHR_BINARY_GLTF]=new mc(e)}catch(l){i&&i(l);return}n=JSON.parse(a[S.KHR_BINARY_GLTF].content)}else n=JSON.parse(o.decode(e));else n=e;if(n.asset===void 0||n.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new xc(n,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const l=this.pluginCallbacks[h](c);l.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),r[l.name]=l,a[l.name]=!0}if(n.extensionsUsed)for(let h=0;h<n.extensionsUsed.length;++h){const l=n.extensionsUsed[h],g=n.extensionsRequired||[];switch(l){case S.KHR_MATERIALS_UNLIT:a[l]=new ic;break;case S.KHR_DRACO_MESH_COMPRESSION:a[l]=new bc(n,this.dracoLoader);break;case S.KHR_TEXTURE_TRANSFORM:a[l]=new Qc;break;case S.KHR_MESH_QUANTIZATION:a[l]=new _c;break;default:g.indexOf(l)>=0&&r[l]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+l+'".')}}c.setExtensions(a),c.setPlugins(r),c.parse(s,i)}parseAsync(e,t){const s=this;return new Promise(function(i,n){s.parse(e,t,i,n)})}}function Ac(){let A={};return{get:function(e){return A[e]},add:function(e,t){A[e]=t},remove:function(e){delete A[e]},removeAll:function(){A={}}}}const S={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class sc{constructor(e){this.parser=e,this.name=S.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,i=t.length;s<i;s++){const n=t[s];n.extensions&&n.extensions[this.name]&&n.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let i=t.cache.get(s);if(i)return i;const n=t.json,o=((n.extensions&&n.extensions[this.name]||{}).lights||[])[e];let c;const h=new Y(16777215);o.color!==void 0&&h.setRGB(o.color[0],o.color[1],o.color[2],fe);const l=o.range!==void 0?o.range:0;switch(o.type){case"directional":c=new xi(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Mi(h),c.distance=l;break;case"spot":c=new Si(h),c.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,c.angle=o.spot.outerConeAngle,c.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return c.position.set(0,0,0),c.decay=2,me(c,o),o.intensity!==void 0&&(c.intensity=o.intensity),c.name=t.createUniqueName(o.name||"light_"+e),i=Promise.resolve(c),t.cache.add(s,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,s=this.parser,n=s.json.nodes[e],r=(n.extensions&&n.extensions[this.name]||{}).light;return r===void 0?null:this._loadLight(r).then(function(o){return s._getNodeRef(t.cache,r,o)})}}class ic{constructor(){this.name=S.KHR_MATERIALS_UNLIT}getMaterialType(){return Be}extendParams(e,t,s){const i=[];e.color=new Y(1,1,1),e.opacity=1;const n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){const a=n.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],fe),e.opacity=a[3]}n.baseColorTexture!==void 0&&i.push(s.assignTexture(e,"map",n.baseColorTexture,ct))}return Promise.all(i)}}class nc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name].emissiveStrength;return n!==void 0&&(t.emissiveIntensity=n),Promise.resolve()}}class ac{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&n.push(s.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&n.push(s.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(n.push(s.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const r=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Pt(r,r)}return Promise.all(n)}}class oc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_DISPERSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name];return t.dispersion=n.dispersion!==void 0?n.dispersion:0,Promise.resolve()}}class rc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&n.push(s.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&n.push(s.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(n)}}class cc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[];t.sheenColor=new Y(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const r=a.sheenColorFactor;t.sheenColor.setRGB(r[0],r[1],r[2],fe)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&n.push(s.assignTexture(t,"sheenColorMap",a.sheenColorTexture,ct)),a.sheenRoughnessTexture!==void 0&&n.push(s.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(n)}}class lc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&n.push(s.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(n)}}class hc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&n.push(s.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const r=a.attenuationColor||[1,1,1];return t.attenuationColor=new Y().setRGB(r[0],r[1],r[2],fe),Promise.all(n)}}class gc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=i.extensions[this.name];return t.ior=n.ior!==void 0?n.ior:1.5,Promise.resolve()}}class dc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&n.push(s.assignTexture(t,"specularIntensityMap",a.specularTexture));const r=a.specularColorFactor||[1,1,1];return t.specularColor=new Y().setRGB(r[0],r[1],r[2],fe),a.specularColorTexture!==void 0&&n.push(s.assignTexture(t,"specularColorMap",a.specularColorTexture,ct)),Promise.all(n)}}class Bc{constructor(e){this.parser=e,this.name=S.EXT_MATERIALS_BUMP}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&n.push(s.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(n)}}class uc{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:N}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const n=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&n.push(s.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(n)}}class fc{constructor(e){this.parser=e,this.name=S.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,i=s.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const n=i.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,n.source,a)}}class Cc{constructor(e){this.parser=e,this.name=S.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,i=s.json,n=i.textures[e];if(!n.extensions||!n.extensions[t])return null;const a=n.extensions[t],r=i.images[a.source];let o=s.textureLoader;if(r.uri){const c=s.options.manager.getHandler(r.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,a.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ic{constructor(e){this.parser=e,this.name=S.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,i=s.json,n=i.textures[e];if(!n.extensions||!n.extensions[t])return null;const a=n.extensions[t],r=i.images[a.source];let o=s.textureLoader;if(r.uri){const c=s.options.manager.getHandler(r.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,a.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ec{constructor(e){this.name=S.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const i=s.extensions[this.name],n=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return n.then(function(r){const o=i.byteOffset||0,c=i.byteLength||0,h=i.count,l=i.byteStride,g=new Uint8Array(r,o,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(h,l,g,i.mode,i.filter).then(function(d){return d.buffer}):a.ready.then(function(){const d=new ArrayBuffer(h*l);return a.decodeGltfBuffer(new Uint8Array(d),h,l,g,i.mode,i.filter),d})})}else return null}}class pc{constructor(e){this.name=S.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,s=t.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const i=t.meshes[s.mesh];for(const c of i.primitives)if(c.mode!==Z.TRIANGLES&&c.mode!==Z.TRIANGLE_STRIP&&c.mode!==Z.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=s.extensions[this.name].attributes,r=[],o={};for(const c in a)r.push(this.parser.getDependency("accessor",a[c]).then(h=>(o[c]=h,o[c])));return r.length<1?null:(r.push(this.parser.createNodeMesh(e)),Promise.all(r).then(c=>{const h=c.pop(),l=h.isGroup?h.children:[h],g=c[0].count,d=[];for(const u of l){const f=new se,E=new j,B=new ht,C=new j(1,1,1),p=new Li(u.geometry,u.material,g);for(let I=0;I<g;I++)o.TRANSLATION&&E.fromBufferAttribute(o.TRANSLATION,I),o.ROTATION&&B.fromBufferAttribute(o.ROTATION,I),o.SCALE&&C.fromBufferAttribute(o.SCALE,I),p.setMatrixAt(I,f.compose(E,B,C));for(const I in o)if(I==="_COLOR_0"){const m=o[I];p.instanceColor=new ki(m.array,m.itemSize,m.normalized)}else I!=="TRANSLATION"&&I!=="ROTATION"&&I!=="SCALE"&&u.geometry.setAttribute(I,o[I]);dA.prototype.copy.call(p,u),this.parser.assignFinalMaterial(p),d.push(p)}return h.isGroup?(h.clear(),h.add(...d),h):d[0]}))}}const ha="glTF",Ft=12,yi={JSON:1313821514,BIN:5130562};class mc{constructor(e){this.name=S.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ft),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ha)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Ft,n=new DataView(e,Ft);let a=0;for(;a<i;){const r=n.getUint32(a,!0);a+=4;const o=n.getUint32(a,!0);if(a+=4,o===yi.JSON){const c=new Uint8Array(e,Ft+a,r);this.content=s.decode(c)}else if(o===yi.BIN){const c=Ft+a;this.body=e.slice(c,c+r)}a+=r}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class bc{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=S.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,i=this.dracoLoader,n=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,r={},o={},c={};for(const h in a){const l=ds[h]||h.toLowerCase();r[l]=a[h]}for(const h in e.attributes){const l=ds[h]||h.toLowerCase();if(a[h]!==void 0){const g=s.accessors[e.attributes[h]],d=nt[g.componentType];c[l]=d.name,o[l]=g.normalized===!0}}return t.getDependency("bufferView",n).then(function(h){return new Promise(function(l,g){i.decodeDracoFile(h,function(d){for(const u in d.attributes){const f=d.attributes[u],E=o[u];E!==void 0&&(f.normalized=E)}l(d)},r,c,fe,g)})})}}class Qc{constructor(){this.name=S.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class _c{constructor(){this.name=S.KHR_MESH_QUANTIZATION}}class ga extends rn{constructor(e,t,s,i){super(e,t,s,i)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,i=this.valueSize,n=e*i*3+i;for(let a=0;a!==i;a++)t[a]=s[n+a];return t}interpolate_(e,t,s,i){const n=this.resultBuffer,a=this.sampleValues,r=this.valueSize,o=r*2,c=r*3,h=i-t,l=(s-t)/h,g=l*l,d=g*l,u=e*c,f=u-c,E=-2*d+3*g,B=d-g,C=1-E,p=B-g+l;for(let I=0;I!==r;I++){const m=a[f+I+r],Q=a[f+I+o]*h,_=a[u+I+r],y=a[u+I]*h;n[I]=C*m+p*Q+E*_+B*y}return n}}const Fc=new ht;class Dc extends ga{interpolate_(e,t,s,i){const n=super.interpolate_(e,t,s,i);return Fc.fromArray(n).normalize().toArray(n),n}}const Z={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},nt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ti={9728:fs,9729:_e,9984:Ni,9985:vi,9986:Hi,9987:gt},Ri={33071:Ji,33648:Pi,10497:ot},XA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ds={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},we={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},yc={CUBICSPLINE:void 0,LINEAR:uA,STEP:nn},WA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Tc(A){return A.DefaultMaterial===void 0&&(A.DefaultMaterial=new BA({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:on})),A.DefaultMaterial}function ve(A,e,t){for(const s in t.extensions)A[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=t.extensions[s])}function me(A,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(A.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Rc(A,e,t){let s=!1,i=!1,n=!1;for(let c=0,h=e.length;c<h;c++){const l=e[c];if(l.POSITION!==void 0&&(s=!0),l.NORMAL!==void 0&&(i=!0),l.COLOR_0!==void 0&&(n=!0),s&&i&&n)break}if(!s&&!i&&!n)return Promise.resolve(A);const a=[],r=[],o=[];for(let c=0,h=e.length;c<h;c++){const l=e[c];if(s){const g=l.POSITION!==void 0?t.getDependency("accessor",l.POSITION):A.attributes.position;a.push(g)}if(i){const g=l.NORMAL!==void 0?t.getDependency("accessor",l.NORMAL):A.attributes.normal;r.push(g)}if(n){const g=l.COLOR_0!==void 0?t.getDependency("accessor",l.COLOR_0):A.attributes.color;o.push(g)}}return Promise.all([Promise.all(a),Promise.all(r),Promise.all(o)]).then(function(c){const h=c[0],l=c[1],g=c[2];return s&&(A.morphAttributes.position=h),i&&(A.morphAttributes.normal=l),n&&(A.morphAttributes.color=g),A.morphTargetsRelative=!0,A})}function Gc(A,e){if(A.updateMorphTargets(),e.weights!==void 0)for(let t=0,s=e.weights.length;t<s;t++)A.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(A.morphTargetInfluences.length===t.length){A.morphTargetDictionary={};for(let s=0,i=t.length;s<i;s++)A.morphTargetDictionary[t[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function wc(A){let e;const t=A.extensions&&A.extensions[S.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+zA(t.attributes):e=A.indices+":"+zA(A.attributes)+":"+A.mode,A.targets!==void 0)for(let s=0,i=A.targets.length;s<i;s++)e+=":"+zA(A.targets[s]);return e}function zA(A){let e="";const t=Object.keys(A).sort();for(let s=0,i=t.length;s<i;s++)e+=t[s]+":"+A[t[s]]+";";return e}function Bs(A){switch(A){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Sc(A){return A.search(/\.jpe?g($|\?)/i)>0||A.search(/^data\:image\/jpeg/)===0?"image/jpeg":A.search(/\.webp($|\?)/i)>0||A.search(/^data\:image\/webp/)===0?"image/webp":A.search(/\.ktx2($|\?)/i)>0||A.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const Mc=new se;class xc{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ac,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,i=-1,n=!1,a=-1;if(typeof navigator<"u"){const r=navigator.userAgent;s=/^((?!chrome|android).)*safari/i.test(r)===!0;const o=r.match(/Version\/(\d+)/);i=s&&o?parseInt(o[1],10):-1,n=r.indexOf("Firefox")>-1,a=n?r.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||s&&i<17||n&&a<98?this.textureLoader=new Jt(this.options.manager):this.textureLoader=new Oi(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new be(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,i=this.json,n=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(a){const r={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:s,userData:{}};return ve(n,r,i),me(r,i),Promise.all(s._invokeAll(function(o){return o.afterRoot&&o.afterRoot(r)})).then(function(){for(const o of r.scenes)o.updateMatrixWorld();e(r)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let i=0,n=t.length;i<n;i++){const a=t[i].joints;for(let r=0,o=a.length;r<o;r++)e[a[r]].isBone=!0}for(let i=0,n=e.length;i<n;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(s[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const i=s.clone(),n=(a,r)=>{const o=this.associations.get(a);o!=null&&this.associations.set(r,o);for(const[c,h]of a.children.entries())n(h,r.children[c])};return n(s,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const i=e(t[s]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let i=0;i<t.length;i++){const n=e(t[i]);n&&s.push(n)}return s}getDependency(e,t){const s=e+":"+t;let i=this.cache.get(s);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(n){return n.loadNode&&n.loadNode(t)});break;case"mesh":i=this._invokeOne(function(n){return n.loadMesh&&n.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(n){return n.loadBufferView&&n.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(n){return n.loadMaterial&&n.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(n){return n.loadTexture&&n.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(n){return n.loadAnimation&&n.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(s,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(n,a){return s.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[S.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(n,a){s.load(ue.resolveURL(t.uri,i.path),n,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(s){const i=t.byteLength||0,n=t.byteOffset||0;return s.slice(n,n+i)})}loadAccessor(e){const t=this,s=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=XA[i.type],r=nt[i.componentType],o=i.normalized===!0,c=new r(i.count*a);return Promise.resolve(new Le(c,a,o))}const n=[];return i.bufferView!==void 0?n.push(this.getDependency("bufferView",i.bufferView)):n.push(null),i.sparse!==void 0&&(n.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(n).then(function(a){const r=a[0],o=XA[i.type],c=nt[i.componentType],h=c.BYTES_PER_ELEMENT,l=h*o,g=i.byteOffset||0,d=i.bufferView!==void 0?s.bufferViews[i.bufferView].byteStride:void 0,u=i.normalized===!0;let f,E;if(d&&d!==l){const B=Math.floor(g/d),C="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+B+":"+i.count;let p=t.cache.get(C);p||(f=new c(r,B*d,i.count*d/h),p=new Ui(f,d/h),t.cache.add(C,p)),E=new an(p,o,g%d/h,u)}else r===null?f=new c(i.count*o):f=new c(r,g,i.count*o),E=new Le(f,o,u);if(i.sparse!==void 0){const B=XA.SCALAR,C=nt[i.sparse.indices.componentType],p=i.sparse.indices.byteOffset||0,I=i.sparse.values.byteOffset||0,m=new C(a[1],p,i.sparse.count*B),Q=new c(a[2],I,i.sparse.count*o);r!==null&&(E=new Le(E.array.slice(),E.itemSize,E.normalized)),E.normalized=!1;for(let _=0,y=m.length;_<y;_++){const D=m[_];if(E.setX(D,Q[_*o]),o>=2&&E.setY(D,Q[_*o+1]),o>=3&&E.setZ(D,Q[_*o+2]),o>=4&&E.setW(D,Q[_*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}E.normalized=u}return E})}loadTexture(e){const t=this.json,s=this.options,n=t.textures[e].source,a=t.images[n];let r=this.textureLoader;if(a.uri){const o=s.manager.getHandler(a.uri);o!==null&&(r=o)}return this.loadTextureImage(e,n,r)}loadTextureImage(e,t,s){const i=this,n=this.json,a=n.textures[e],r=n.images[t],o=(r.uri||r.bufferView)+":"+a.sampler;if(this.textureCache[o])return this.textureCache[o];const c=this.loadImageSource(t,s).then(function(h){h.flipY=!1,h.name=a.name||r.name||"",h.name===""&&typeof r.uri=="string"&&r.uri.startsWith("data:image/")===!1&&(h.name=r.uri);const g=(n.samplers||{})[a.sampler]||{};return h.magFilter=Ti[g.magFilter]||_e,h.minFilter=Ti[g.minFilter]||gt,h.wrapS=Ri[g.wrapS]||ot,h.wrapT=Ri[g.wrapT]||ot,h.generateMipmaps=!h.isCompressedTexture&&h.minFilter!==fs&&h.minFilter!==_e,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[o]=c,c}loadImageSource(e,t){const s=this,i=this.json,n=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(l=>l.clone());const a=i.images[e],r=self.URL||self.webkitURL;let o=a.uri||"",c=!1;if(a.bufferView!==void 0)o=s.getDependency("bufferView",a.bufferView).then(function(l){c=!0;const g=new Blob([l],{type:a.mimeType});return o=r.createObjectURL(g),o});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(o).then(function(l){return new Promise(function(g,d){let u=g;t.isImageBitmapLoader===!0&&(u=function(f){const E=new rt(f);E.needsUpdate=!0,g(E)}),t.load(ue.resolveURL(l,n.path),u,void 0,d)})}).then(function(l){return c===!0&&r.revokeObjectURL(o),me(l,a),l.userData.mimeType=a.mimeType||Sc(a.uri),l}).catch(function(l){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),l});return this.sourceCache[e]=h,h}assignTexture(e,t,s,i){const n=this;return this.getDependency("texture",s.index).then(function(a){if(!a)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(a=a.clone(),a.channel=s.texCoord),n.extensions[S.KHR_TEXTURE_TRANSFORM]){const r=s.extensions!==void 0?s.extensions[S.KHR_TEXTURE_TRANSFORM]:void 0;if(r){const o=n.associations.get(a);a=n.extensions[S.KHR_TEXTURE_TRANSFORM].extendTexture(a,r),n.associations.set(a,o)}}return i!==void 0&&(a.colorSpace=i),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const i=t.attributes.tangent===void 0,n=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const r="PointsMaterial:"+s.uuid;let o=this.cache.get(r);o||(o=new Ki,et.prototype.copy.call(o,s),o.color.copy(s.color),o.map=s.map,o.sizeAttenuation=!1,this.cache.add(r,o)),s=o}else if(e.isLine){const r="LineBasicMaterial:"+s.uuid;let o=this.cache.get(r);o||(o=new ji,et.prototype.copy.call(o,s),o.color.copy(s.color),o.map=s.map,this.cache.add(r,o)),s=o}if(i||n||a){let r="ClonedMaterial:"+s.uuid+":";i&&(r+="derivative-tangents:"),n&&(r+="vertex-colors:"),a&&(r+="flat-shading:");let o=this.cache.get(r);o||(o=s.clone(),n&&(o.vertexColors=!0),a&&(o.flatShading=!0),i&&(o.normalScale&&(o.normalScale.y*=-1),o.clearcoatNormalScale&&(o.clearcoatNormalScale.y*=-1)),this.cache.add(r,o),this.associations.set(o,this.associations.get(s))),s=o}e.material=s}getMaterialType(){return BA}loadMaterial(e){const t=this,s=this.json,i=this.extensions,n=s.materials[e];let a;const r={},o=n.extensions||{},c=[];if(o[S.KHR_MATERIALS_UNLIT]){const l=i[S.KHR_MATERIALS_UNLIT];a=l.getMaterialType(),c.push(l.extendParams(r,n,t))}else{const l=n.pbrMetallicRoughness||{};if(r.color=new Y(1,1,1),r.opacity=1,Array.isArray(l.baseColorFactor)){const g=l.baseColorFactor;r.color.setRGB(g[0],g[1],g[2],fe),r.opacity=g[3]}l.baseColorTexture!==void 0&&c.push(t.assignTexture(r,"map",l.baseColorTexture,ct)),r.metalness=l.metallicFactor!==void 0?l.metallicFactor:1,r.roughness=l.roughnessFactor!==void 0?l.roughnessFactor:1,l.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(r,"metalnessMap",l.metallicRoughnessTexture)),c.push(t.assignTexture(r,"roughnessMap",l.metallicRoughnessTexture))),a=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(e,r)})))}n.doubleSided===!0&&(r.side=qi);const h=n.alphaMode||WA.OPAQUE;if(h===WA.BLEND?(r.transparent=!0,r.depthWrite=!1):(r.transparent=!1,h===WA.MASK&&(r.alphaTest=n.alphaCutoff!==void 0?n.alphaCutoff:.5)),n.normalTexture!==void 0&&a!==Be&&(c.push(t.assignTexture(r,"normalMap",n.normalTexture)),r.normalScale=new Pt(1,1),n.normalTexture.scale!==void 0)){const l=n.normalTexture.scale;r.normalScale.set(l,l)}if(n.occlusionTexture!==void 0&&a!==Be&&(c.push(t.assignTexture(r,"aoMap",n.occlusionTexture)),n.occlusionTexture.strength!==void 0&&(r.aoMapIntensity=n.occlusionTexture.strength)),n.emissiveFactor!==void 0&&a!==Be){const l=n.emissiveFactor;r.emissive=new Y().setRGB(l[0],l[1],l[2],fe)}return n.emissiveTexture!==void 0&&a!==Be&&c.push(t.assignTexture(r,"emissiveMap",n.emissiveTexture,ct)),Promise.all(c).then(function(){const l=new a(r);return n.name&&(l.name=n.name),me(l,n),t.associations.set(l,{materials:e}),n.extensions&&ve(i,l,n),l})}createUniqueName(e){const t=Yi.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,s=this.extensions,i=this.primitiveCache;function n(r){return s[S.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(r,t).then(function(o){return Gi(o,r,t)})}const a=[];for(let r=0,o=e.length;r<o;r++){const c=e[r],h=wc(c),l=i[h];if(l)a.push(l.promise);else{let g;c.extensions&&c.extensions[S.KHR_DRACO_MESH_COMPRESSION]?g=n(c):g=Gi(new Cs,c,t),i[h]={primitive:c,promise:g},a.push(g)}}return Promise.all(a)}loadMesh(e){const t=this,s=this.json,i=this.extensions,n=s.meshes[e],a=n.primitives,r=[];for(let o=0,c=a.length;o<c;o++){const h=a[o].material===void 0?Tc(this.cache):this.getDependency("material",a[o].material);r.push(h)}return r.push(t.loadGeometries(a)),Promise.all(r).then(function(o){const c=o.slice(0,o.length-1),h=o[o.length-1],l=[];for(let d=0,u=h.length;d<u;d++){const f=h[d],E=a[d];let B;const C=c[d];if(E.mode===Z.TRIANGLES||E.mode===Z.TRIANGLE_STRIP||E.mode===Z.TRIANGLE_FAN||E.mode===void 0)B=n.isSkinnedMesh===!0?new Vi(f,C):new Xi(f,C),B.isSkinnedMesh===!0&&B.normalizeSkinWeights(),E.mode===Z.TRIANGLE_STRIP?B.geometry=Di(B.geometry,hA):E.mode===Z.TRIANGLE_FAN&&(B.geometry=Di(B.geometry,at));else if(E.mode===Z.LINES)B=new Wi(f,C);else if(E.mode===Z.LINE_STRIP)B=new zi(f,C);else if(E.mode===Z.LINE_LOOP)B=new Zi(f,C);else if(E.mode===Z.POINTS)B=new $i(f,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(B.geometry.morphAttributes).length>0&&Gc(B,n),B.name=t.createUniqueName(n.name||"mesh_"+e),me(B,n),E.extensions&&ve(i,B,E),t.assignFinalMaterial(B),l.push(B)}for(let d=0,u=l.length;d<u;d++)t.associations.set(l[d],{meshes:e,primitives:d});if(l.length===1)return n.extensions&&ve(i,l[0],n),l[0];const g=new tt;n.extensions&&ve(i,g,n),t.associations.set(g,{meshes:e});for(let d=0,u=l.length;d<u;d++)g.add(l[d]);return g})}loadCamera(e){let t;const s=this.json.cameras[e],i=s[s.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?t=new en(Is.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):s.type==="orthographic"&&(t=new tn(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),me(t,s),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],s=[];for(let i=0,n=t.joints.length;i<n;i++)s.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",t.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(i){const n=i.pop(),a=i,r=[],o=[];for(let c=0,h=a.length;c<h;c++){const l=a[c];if(l){r.push(l);const g=new se;n!==null&&g.fromArray(n.array,c*16),o.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new An(r,o)})}loadAnimation(e){const t=this.json,s=this,i=t.animations[e],n=i.name?i.name:"animation_"+e,a=[],r=[],o=[],c=[],h=[];for(let l=0,g=i.channels.length;l<g;l++){const d=i.channels[l],u=i.samplers[d.sampler],f=d.target,E=f.node,B=i.parameters!==void 0?i.parameters[u.input]:u.input,C=i.parameters!==void 0?i.parameters[u.output]:u.output;f.node!==void 0&&(a.push(this.getDependency("node",E)),r.push(this.getDependency("accessor",B)),o.push(this.getDependency("accessor",C)),c.push(u),h.push(f))}return Promise.all([Promise.all(a),Promise.all(r),Promise.all(o),Promise.all(c),Promise.all(h)]).then(function(l){const g=l[0],d=l[1],u=l[2],f=l[3],E=l[4],B=[];for(let C=0,p=g.length;C<p;C++){const I=g[C],m=d[C],Q=u[C],_=f[C],y=E[C];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();const D=s._createAnimationTracks(I,m,Q,_,y);if(D)for(let L=0;L<D.length;L++)B.push(D[L])}return new us(n,void 0,B)})}createNodeMesh(e){const t=this.json,s=this,i=t.nodes[e];return i.mesh===void 0?null:s.getDependency("mesh",i.mesh).then(function(n){const a=s._getNodeRef(s.meshCache,i.mesh,n);return i.weights!==void 0&&a.traverse(function(r){if(r.isMesh)for(let o=0,c=i.weights.length;o<c;o++)r.morphTargetInfluences[o]=i.weights[o]}),a})}loadNode(e){const t=this.json,s=this,i=t.nodes[e],n=s._loadNodeShallow(e),a=[],r=i.children||[];for(let c=0,h=r.length;c<h;c++)a.push(s.getDependency("node",r[c]));const o=i.skin===void 0?Promise.resolve(null):s.getDependency("skin",i.skin);return Promise.all([n,Promise.all(a),o]).then(function(c){const h=c[0],l=c[1],g=c[2];g!==null&&h.traverse(function(d){d.isSkinnedMesh&&d.bind(g,Mc)});for(let d=0,u=l.length;d<u;d++)h.add(l[d]);return h})}_loadNodeShallow(e){const t=this.json,s=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const n=t.nodes[e],a=n.name?i.createUniqueName(n.name):"",r=[],o=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return o&&r.push(o),n.camera!==void 0&&r.push(i.getDependency("camera",n.camera).then(function(c){return i._getNodeRef(i.cameraCache,n.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){r.push(c)}),this.nodeCache[e]=Promise.all(r).then(function(c){let h;if(n.isBone===!0?h=new sn:c.length>1?h=new tt:c.length===1?h=c[0]:h=new dA,h!==c[0])for(let l=0,g=c.length;l<g;l++)h.add(c[l]);if(n.name&&(h.userData.name=n.name,h.name=a),me(h,n),n.extensions&&ve(s,h,n),n.matrix!==void 0){const l=new se;l.fromArray(n.matrix),h.applyMatrix4(l)}else n.translation!==void 0&&h.position.fromArray(n.translation),n.rotation!==void 0&&h.quaternion.fromArray(n.rotation),n.scale!==void 0&&h.scale.fromArray(n.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,s=this.json.scenes[e],i=this,n=new tt;s.name&&(n.name=i.createUniqueName(s.name)),me(n,s),s.extensions&&ve(t,n,s);const a=s.nodes||[],r=[];for(let o=0,c=a.length;o<c;o++)r.push(i.getDependency("node",a[o]));return Promise.all(r).then(function(o){for(let h=0,l=o.length;h<l;h++)n.add(o[h]);const c=h=>{const l=new Map;for(const[g,d]of i.associations)(g instanceof et||g instanceof rt)&&l.set(g,d);return h.traverse(g=>{const d=i.associations.get(g);d!=null&&l.set(g,d)}),l};return i.associations=c(n),n})}_createAnimationTracks(e,t,s,i,n){const a=[],r=e.name?e.name:e.uuid,o=[];we[n.path]===we.weights?e.traverse(function(g){g.morphTargetInfluences&&o.push(g.name?g.name:g.uuid)}):o.push(r);let c;switch(we[n.path]){case we.weights:c=AA;break;case we.rotation:c=xt;break;case we.position:case we.scale:c=Mt;break;default:switch(s.itemSize){case 1:c=AA;break;case 2:case 3:default:c=Mt;break}break}const h=i.interpolation!==void 0?yc[i.interpolation]:uA,l=this._getArrayFromAccessor(s);for(let g=0,d=o.length;g<d;g++){const u=new c(o[g]+"."+we[n.path],t.array,l,h);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(u),a.push(u)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const s=Bs(t.constructor),i=new Float32Array(t.length);for(let n=0,a=t.length;n<a;n++)i[n]=t[n]*s;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(s){const i=this instanceof xt?Dc:ga;return new i(this.times,this.values,this.getValueSize()/3,s)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Lc(A,e,t){const s=e.attributes,i=new Es;if(s.POSITION!==void 0){const r=t.json.accessors[s.POSITION],o=r.min,c=r.max;if(o!==void 0&&c!==void 0){if(i.set(new j(o[0],o[1],o[2]),new j(c[0],c[1],c[2])),r.normalized){const h=Bs(nt[r.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const n=e.targets;if(n!==void 0){const r=new j,o=new j;for(let c=0,h=n.length;c<h;c++){const l=n[c];if(l.POSITION!==void 0){const g=t.json.accessors[l.POSITION],d=g.min,u=g.max;if(d!==void 0&&u!==void 0){if(o.setX(Math.max(Math.abs(d[0]),Math.abs(u[0]))),o.setY(Math.max(Math.abs(d[1]),Math.abs(u[1]))),o.setZ(Math.max(Math.abs(d[2]),Math.abs(u[2]))),g.normalized){const f=Bs(nt[g.componentType]);o.multiplyScalar(f)}r.max(o)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(r)}A.boundingBox=i;const a=new ps;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,A.boundingSphere=a}function Gi(A,e,t){const s=e.attributes,i=[];function n(a,r){return t.getDependency("accessor",a).then(function(o){A.setAttribute(r,o)})}for(const a in s){const r=ds[a]||a.toLowerCase();r in A.attributes||i.push(n(s[a],r))}if(e.indices!==void 0&&!A.index){const a=t.getDependency("accessor",e.indices).then(function(r){A.setIndex(r)});i.push(a)}return Ns.workingColorSpace!==fe&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Ns.workingColorSpace}" not supported.`),me(A,e),Lc(A,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Rc(A,e.targets,t):A})}let ZA=null;const Bl=()=>{const{gl:A}=he();return M.useMemo(()=>(ZA||(ZA=new te().setTranscoderPath("/basis/").detectSupport(A)),ZA),[A])};var ul=function(){var A="b9H79Tebbbe8Fv9Gbb9Gvuuuuueu9Giuuub9Geueu9Giuuueuikqbeeedddillviebeoweuec:q;iekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbeY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVbdE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbiL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtblK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbol79IV9Rbrq:P8Yqdbk;3sezu8Jjjjjbcj;eb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Radz1jjjbhwcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhDcbhqinaqae9pmeaDaeaq9RaqaDfae6Egkcsfgocl4cifcd4hxdndndndnaoc9WGgmTmbcbhPcehsawcjdfhzalhHinaraH9Rax6midnaraHaxfgl9RcK6mbczhoinawcj;cbfaogifgoc9WfhOdndndndndnaHaic9WfgAco4fRbbaAci4coG4ciGPlbedibkaO9cb83ibaOcwf9cb83ibxikaOalRblalRbbgAco4gCaCciSgCE86bbaocGfalclfaCfgORbbaAcl4ciGgCaCciSgCE86bbaocVfaOaCfgORbbaAcd4ciGgCaCciSgCE86bbaoc7faOaCfgORbbaAciGgAaAciSgAE86bbaoctfaOaAfgARbbalRbegOco4gCaCciSgCE86bbaoc91faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc4faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc93faAaCfgARbbaOciGgOaOciSgOE86bbaoc94faAaOfgARbbalRbdgOco4gCaCciSgCE86bbaoc95faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc96faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc97faAaCfgARbbaOciGgOaOciSgOE86bbaoc98faAaOfgORbbalRbiglco4gAaAciSgAE86bbaoc99faOaAfgORbbalcl4ciGgAaAciSgAE86bbaoc9:faOaAfgORbbalcd4ciGgAaAciSgAE86bbaocufaOaAfgoRbbalciGglalciSglE86bbaoalfhlxdkaOalRbwalRbbgAcl4gCaCcsSgCE86bbaocGfalcwfaCfgORbbaAcsGgAaAcsSgAE86bbaocVfaOaAfgORbbalRbegAcl4gCaCcsSgCE86bbaoc7faOaCfgORbbaAcsGgAaAcsSgAE86bbaoctfaOaAfgORbbalRbdgAcl4gCaCcsSgCE86bbaoc91faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc4faOaAfgORbbalRbigAcl4gCaCcsSgCE86bbaoc93faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc94faOaAfgORbbalRblgAcl4gCaCcsSgCE86bbaoc95faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc96faOaAfgORbbalRbvgAcl4gCaCcsSgCE86bbaoc97faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc98faOaAfgORbbalRbogAcl4gCaCcsSgCE86bbaoc99faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc9:faOaAfgORbbalRbrglcl4gAaAcsSgAE86bbaocufaOaAfgoRbbalcsGglalcsSglE86bbaoalfhlxekaOal8Pbb83bbaOcwfalcwf8Pbb83bbalczfhlkdnaiam9pmbaiczfhoaral9RcL0mekkaiam6mialTmidnakTmbawaPfRbbhOcbhoazhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkkazcefhzaPcefgPad6hsalhHaPad9hmexvkkcbhlasceGmdxikalaxad2fhCdnakTmbcbhHcehsawcjdfhminaral9Rax6mialTmdalaxfhlawaHfRbbhOcbhoamhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkamcefhmaHcefgHad6hsaHad9hmbkaChlxikcbhocehsinaral9Rax6mdalTmealaxfhlaocefgoad6hsadao9hmbkaChlxdkcbhlasceGTmekc9:hoxikabaqad2fawcjdfakad2z1jjjb8Aawawcjdfakcufad2fadz1jjjb8Aakaqfhqalmbkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;ebf8Kjjjjbaok;yzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecjez:jjjjb8AavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:Lvoeue99dud99eud99dndnadcl9hmbaeTmeindndnabcdfgd8Sbb:Yab8Sbbgi:Ygl:l:tabcefgv8Sbbgo:Ygr:l:tgwJbb;:9cawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai86bbdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad86bbdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad86bbabclfhbaecufgembxdkkaeTmbindndnabclfgd8Ueb:Yab8Uebgi:Ygl:l:tabcdfgv8Uebgo:Ygr:l:tgwJb;:FSawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai87ebdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad87ebdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad87ebabcwfhbaecufgembkkk;siliui99iue99dnaeTmbcbhiabhlindndnJ;Zl81Zalcof8UebgvciV:Y:vgoal8Ueb:YNgrJb;:FSNJbbbZJbbb:;arJbbbb9GEMgw:lJbbb9p9DTmbaw:OhDxekcjjjj94hDkalclf8Uebhqalcdf8UebhkabavcefciGaiVcetfaD87ebdndnaoak:YNgwJb;:FSNJbbbZJbbb:;awJbbbb9GEMgx:lJbbb9p9DTmbax:Ohkxekcjjjj94hkkabavcdfciGaiVcetfak87ebdndnaoaq:YNgoJb;:FSNJbbbZJbbb:;aoJbbbb9GEMgx:lJbbb9p9DTmbax:Ohqxekcjjjj94hqkabavcufciGaiVcetfaq87ebdndnJbbjZararN:tawawN:taoaoN:tgrJbbbbarJbbbb9GE:rJb;:FSNJbbbZMgr:lJbbb9p9DTmbar:Ohqxekcjjjj94hqkabavciGaiVcetfaq87ebalcwfhlaiclfhiaecufgembkkk9mbdnadcd4ae2geTmbinababydbgdcwtcw91:Yadce91cjjj;8ifcjjj98G::NUdbabclfhbaecufgembkkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;LeeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiclfaeclfydbBdbaicwfaecwfydbBdbaicxfaecxfydbBdbaiczfhiaeczfheadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk;aeedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdbaicxfalBdbaicwfalBdbaiclfalBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabkkkebcjwklz9Kbb",e="b9H79TebbbeKl9Gbb9Gvuuuuueu9Giuuub9Geueuikqbbebeedddilve9Weeeviebeoweuec:q;Aekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbdY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVblE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtboK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbrL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbwl79IV9RbDq;t9tqlbzik9:evu8Jjjjjbcz9Rhbcbheincbhdcbhiinabcwfadfaicjuaead4ceGglE86bbaialfhiadcefgdcw9hmbkaec:q:yjjbfai86bbaecitc:q1jjbfab8Piw83ibaecefgecjd9hmbkk;h8JlHud97euo978Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Rad;8qbbcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhwcbhDinaDae9pmeawaeaD9RaDawfae6Egqcsfgoc9WGgkci2hxakcethmaocl4cifcd4hPabaDad2fhscbhzdnincehHalhOcbhAdninaraO9RaP6miavcj;cbfaAak2fhCaOaPfhlcbhidnakc;ab6mbaral9Rc;Gb6mbcbhoinaCaofhidndndndndnaOaoco4fRbbgXciGPlbedibkaipxbbbbbbbbbbbbbbbbpklbxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklbalczfhlkdndndndndnaXcd4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklzxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklzalczfhlkdndndndndnaXcl4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklaxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklaalczfhlkdndndndndnaXco4Plbedibkaipxbbbbbbbbbbbbbbbbpkl8WxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalclfaYpQbfaXc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalcwfaYpQbfaXc:q:yjjbfRbbfhlxekaialpbbbpkl8Walczfhlkaoc;abfhiaocjefak0meaihoaral9Rc;Fb0mbkkdndnaiak9pmbaici4hoinaral9RcK6mdaCaifhXdndndndndnaOaico4fRbbaocoG4ciGPlbedibkaXpxbbbbbbbbbbbbbbbbpklbxikaXalpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaXalpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaXalpbbbpklbalczfhlkaocdfhoaiczfgiak6mbkkalTmbaAci6hHalhOaAcefgohAaoclSmdxekkcbhlaHceGmdkdnakTmbavcjdfazfhiavazfpbdbhYcbhXinaiavcj;cbfaXfgopblbgLcep9TaLpxeeeeeeeeeeeeeeeegQp9op9Hp9rgLaoakfpblbg8Acep9Ta8AaQp9op9Hp9rg8ApmbzeHdOiAlCvXoQrLgEaoamfpblbg3cep9Ta3aQp9op9Hp9rg3aoaxfpblbg5cep9Ta5aQp9op9Hp9rg5pmbzeHdOiAlCvXoQrLg8EpmbezHdiOAlvCXorQLgQaQpmbedibedibedibediaYp9UgYp9AdbbaiadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaEa8EpmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwKDYq8AkEx3m5P8Es8FgLa3a5pmwKDYq8AkEx3m5P8Es8Fg8ApmbezHdiOAlvCXorQLgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfhiaXczfgXak6mbkkazclfgzad6mbkasavcjdfaqad2;8qbbavavcjdfaqcufad2fad;8qbbaqaDfhDc9:hoalmexikkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;kbf8Kjjjjbaokwbz:bjjjbk;uzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecje;8kbavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:EPliuo97eue978Jjjjjbca9Rhidndnadcl9hmbdnaec98GglTmbcbhvabhdinadadpbbbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpkbbadczfhdavclfgval6mbkkalae9pmeaiaeciGgvcdtgdVcbczad9R;8kbaiabalcdtfglad;8qbbdnavTmbaiaipblbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpklbkalaiad;8qbbskdnaec98GgxTmbcbhvabhdinadczfglalpbbbgopxbbbbbbFFbbbbbbFFgkp9oadpbbbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpkbbadaDakp9oawaopmbezHdiOAlvCXorQLp9qpkbbadcafhdavclfgvax6mbkkaxae9pmbaiaeciGgvcitgdfcbcaad9R;8kbaiabaxcitfglad;8qbbdnavTmbaiaipblzgopxbbbbbbFFbbbbbbFFgkp9oaipblbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpklzaiaDakp9oawaopmbezHdiOAlvCXorQLp9qpklbkalaiad;8qbbkk;4wllue97euv978Jjjjjbc8W9Rhidnaec98GglTmbcbhvabhoinaiaopbbbgraoczfgwpbbbgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklbaopxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblbpEb:T:j83ibaocwfarp5eaipblbpEe:T:j83ibawaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblbpEd:T:j83ibaocKfakp5eaipblbpEi:T:j83ibaocafhoavclfgval6mbkkdnalae9pmbaiaeciGgvcitgofcbcaao9R;8kbaiabalcitfgwao;8qbbdnavTmbaiaipblbgraipblzgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklaaipxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblapEb:T:j83ibaiarp5eaipblapEe:T:j83iwaiaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblapEd:T:j83izaiakp5eaipblapEi:T:j83iKkawaiao;8qbbkk:Pddiue978Jjjjjbc;ab9Rhidnadcd4ae2glc98GgvTmbcbhdabheinaeaepbbbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepkbbaeczfheadclfgdav6mbkkdnaval9pmbaialciGgdcdtgeVcbc;abae9R;8kbaiabavcdtfgvae;8qbbdnadTmbaiaipblbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepklbkavaiae;8qbbkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaikkkebcjwklz9Tbb",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),s=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var i=WebAssembly.validate(t)?e:A,n,a=WebAssembly.instantiate(r(i),{}).then(function(B){n=B.instance,n.exports.__wasm_call_ctors()});function r(B){for(var C=new Uint8Array(B.length),p=0;p<B.length;++p){var I=B.charCodeAt(p);C[p]=I>96?I-97:I>64?I-39:I+4}for(var m=0,p=0;p<B.length;++p)C[m++]=C[p]<60?s[C[p]]:(C[p]-60)*64+C[++p];return C.buffer.slice(0,m)}function o(B,C,p,I,m,Q){var _=n.exports.sbrk,y=p+3&-4,D=_(y*I),L=_(m.length),U=new Uint8Array(n.exports.memory.buffer);U.set(m,L);var P=B(D,p,I,L,m.length);if(P==0&&Q&&Q(D,y,I),C.set(U.subarray(D,D+p*I)),_(D-_(0)),P!=0)throw new Error("Malformed buffer data: "+P)}var c={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},l=[],g=0;function d(B){var C={object:new Worker(B),pending:0,requests:{}};return C.object.onmessage=function(p){var I=p.data;C.pending-=I.count,C.requests[I.id][I.action](I.value),delete C.requests[I.id]},C}function u(B){for(var C="var instance; var ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(r(i))+"]), {}).then(function(result) { instance = result.instance; instance.exports.__wasm_call_ctors(); });self.onmessage = workerProcess;"+o.toString()+E.toString(),p=new Blob([C],{type:"text/javascript"}),I=URL.createObjectURL(p),m=0;m<B;++m)l[m]=d(I);URL.revokeObjectURL(I)}function f(B,C,p,I,m){for(var Q=l[0],_=1;_<l.length;++_)l[_].pending<Q.pending&&(Q=l[_]);return new Promise(function(y,D){var L=new Uint8Array(p),U=g++;Q.pending+=B,Q.requests[U]={resolve:y,reject:D},Q.object.postMessage({id:U,count:B,size:C,source:L,mode:I,filter:m},[L.buffer])})}function E(B){a.then(function(){var C=B.data;try{var p=new Uint8Array(C.count*C.size);o(n.exports[C.mode],p,C.count,C.size,C.source,n.exports[C.filter]),self.postMessage({id:C.id,count:C.count,action:"resolve",value:p},[p.buffer])}catch(I){self.postMessage({id:C.id,count:C.count,action:"reject",value:I})}})}return{ready:a,supported:!0,useWorkers:function(B){u(B)},decodeVertexBuffer:function(B,C,p,I,m){o(n.exports.meshopt_decodeVertexBuffer,B,C,p,I,n.exports[c[m]])},decodeIndexBuffer:function(B,C,p,I){o(n.exports.meshopt_decodeIndexBuffer,B,C,p,I)},decodeIndexSequence:function(B,C,p,I){o(n.exports.meshopt_decodeIndexSequence,B,C,p,I)},decodeGltfBuffer:function(B,C,p,I,m,Q){o(n.exports[h[m]],B,C,p,I,n.exports[c[Q]])},decodeGltfBufferAsync:function(B,C,p,I,m){return l.length>0?f(B,C,p,h[I],c[m]):a.then(function(){var Q=new Uint8Array(B*C);return o(n.exports[h[I]],Q,B,C,p,n.exports[c[m]]),Q})}}}();export{gl as C,dl as G,te as K,ul as M,Hc as S,Os as a,qn as b,Uc as c,Oc as d,NA as e,lA as f,Bl as u,Zo as v};
